/*! For license information please see main.7b22d857907ec634e16d.js.LICENSE.txt */
(()=>{var e,t,n,r={187:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(58168),a=n(80045),s=n(5556),i=n.n(s),o=n(96540),c=n(1189),l=n.n(c),u=["size","icon"],d=function(e){var t=e.size,n=e.icon,s=(0,a.A)(e,u);return o.createElement("svg",(0,r.A)({width:"".concat(t,"px"),height:"".concat(t,"px"),viewBox:l()[n].viewBox},s),o.createElement("path",{d:l()[n].d}))};d.propTypes={icon:i().string.isRequired,size:i().number.isRequired};const p=d},1189:e=>{e.exports={ACCOUNT:{viewBox:"0 0 24 24",d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"},ACCOUNT_BOX:{viewBox:"0 0 24 24",d:"M6,17C6,15 10,13.9 12,13.9C14,13.9 18,15 18,17V18H6M15,9A3,3 0 0,1 12,12A3,3 0 0,1 9,9A3,3 0 0,1 12,6A3,3 0 0,1 15,9M3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3H5C3.89,3 3,3.9 3,5Z"},ACCOUNT_BOX_OUTLINE:{viewBox:"0 0 24 24",d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M16.5,16.25C16.5,14.75 13.5,14 12,14C10.5,14 7.5,14.75 7.5,16.25V17H16.5M12,12.25A2.25,2.25 0 0,0 14.25,10A2.25,2.25 0 0,0 12,7.75A2.25,2.25 0 0,0 9.75,10A2.25,2.25 0 0,0 12,12.25Z"},ALERT_OUTLINE:{viewBox:"0 0 24 24",d:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16"},CHEVRON_DOWN:{viewBox:"0 0 24 24",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},CHEVRON_LEFT:{viewBox:"0 0 24 24",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},CHEVRON_RIGHT:{viewBox:"0 0 24 24",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},CHEVRON_UP:{viewBox:"0 0 24 24",d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"},CIRCLE:{viewBox:"0 0 24 24",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},CLEAR:{viewBox:"0 0 24 24",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},CLOUD:{viewBox:"0 0 24 24",d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"},DELETE:{viewBox:"0 0 24 24",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},DICE:{viewBox:"0 0 24 24",d:"M19.78,3H11.22C10.55,3 10,3.55 10,4.22V8H16V14H19.78C20.45,14 21,13.45 21,12.78V4.22C21,3.55 20.45,3 19.78,3M12.44,6.67C11.76,6.67 11.21,6.12 11.21,5.44C11.21,4.76 11.76,4.21 12.44,4.21A1.23,1.23 0 0,1 13.67,5.44C13.67,6.12 13.12,6.67 12.44,6.67M18.56,12.78C17.88,12.79 17.33,12.24 17.32,11.56C17.31,10.88 17.86,10.33 18.54,10.32C19.22,10.31 19.77,10.86 19.78,11.56C19.77,12.23 19.23,12.77 18.56,12.78M18.56,6.67C17.88,6.68 17.33,6.13 17.32,5.45C17.31,4.77 17.86,4.22 18.54,4.21C19.22,4.2 19.77,4.75 19.78,5.44C19.78,6.12 19.24,6.66 18.56,6.67M4.22,10H12.78A1.22,1.22 0 0,1 14,11.22V19.78C14,20.45 13.45,21 12.78,21H4.22C3.55,21 3,20.45 3,19.78V11.22C3,10.55 3.55,10 4.22,10M8.5,14.28C7.83,14.28 7.28,14.83 7.28,15.5C7.28,16.17 7.83,16.72 8.5,16.72C9.17,16.72 9.72,16.17 9.72,15.5A1.22,1.22 0 0,0 8.5,14.28M5.44,11.22C4.77,11.22 4.22,11.77 4.22,12.44A1.22,1.22 0 0,0 5.44,13.66C6.11,13.66 6.66,13.11 6.66,12.44V12.44C6.66,11.77 6.11,11.22 5.44,11.22M11.55,17.33C10.88,17.33 10.33,17.88 10.33,18.55C10.33,19.22 10.88,19.77 11.55,19.77A1.22,1.22 0 0,0 12.77,18.55H12.77C12.77,17.88 12.23,17.34 11.56,17.33H11.55Z"},DRAG_INDICATOR:{viewBox:"0 0 24 24",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},FLAG:{viewBox:"0 0 24 24",d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"},FOLDER:{viewBox:"0 0 24 24",d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"},FOLDER_MUSIC:{viewBox:"0 0 24 24",d:"M10 4L12 6H20C21.1 6 22 6.89 22 8V18C22 19.1 21.1 20 20 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10M19 9H15.5V13.06L15 13C13.9 13 13 13.9 13 15C13 16.11 13.9 17 15 17C16.11 17 17 16.11 17 15V11H19V9Z"},FULLSCREEN:{viewBox:"0 0 24 24",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},INFO_OUTLINE:{viewBox:"0 0 24 24",d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"},LABEL:{viewBox:"0 0 24 24",d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"},MAGNIFIER:{viewBox:"0 0 24 24",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},MORE_HORIZ:{viewBox:"0 0 24 24",d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},NAV_ACCOUNT:{viewBox:"0 0 24 24",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},NAV_LIBRARY:{viewBox:"0 0 24 24",d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"},NAV_SUBSCRIPTIONS:{viewBox:"0 0 24 24",d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z"},PAUSE:{viewBox:"0 0 24 24",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},PLAY:{viewBox:"0 0 24 24",d:"M8 5v14l11-7z"},PLAY_NEXT:{viewBox:"0 0 24 24",d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"},REPLAY:{viewBox:"0 0 24 24",d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"},STAR_FULL:{viewBox:"0 0 32 32",d:"M32 12.408l-11.056-1.607-4.944-10.018-4.944 10.018-11.056 1.607 8 7.798-1.889 11.011 9.889-5.199 9.889 5.199-1.889-11.011 8-7.798z"},TELEVISION_PLAY:{viewBox:"0 0 24 24",d:"M21,3H3C1.89,3 1,3.89 1,5V17A2,2 0 0,0 3,19H8V21H16V19H21A2,2 0 0,0 23,17V5C23,3.89 22.1,3 21,3M21,17H3V5H21M16,11L9,15V7"},TUNE:{viewBox:"0 0 24 24",d:"M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z"},VISIBILITY:{viewBox:"0 0 24 24",d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},VISIBILITY_OFF:{viewBox:"0 0 24 24",d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},VOLUME_DOWN:{viewBox:"0 0 24 24",d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"},VOLUME_MUTE:{viewBox:"0 0 24 24",d:"M7 9v6h4l5 5V4l-5 5H7z"},VOLUME_OFF:{viewBox:"0 0 24 24",d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"},VOLUME_UP:{viewBox:"0 0 24 24",d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"},YOUTUBE:{viewBox:"0 0 576 512",d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},HOURGLASS:{viewBox:"0 0 384 512",d:"M368 48h4c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12H12C5.373 0 0 5.373 0 12v24c0 6.627 5.373 12 12 12h4c0 80.564 32.188 165.807 97.18 208C47.899 298.381 16 383.9 16 464h-4c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12h-4c0-80.564-32.188-165.807-97.18-208C336.102 213.619 368 128.1 368 48zM64 48h256c0 101.62-57.307 184-128 184S64 149.621 64 48zm256 416H64c0-101.62 57.308-184 128-184s128 82.38 128 184z"},MICROPHONE:{viewBox:"0 0 512 512",d:"M289.54 60.53c-23.85 23.84-34.57 55.55-33 86.77l108.15 108.14c31.22 1.58 62.94-9.14 86.78-33l2.19-2.18L291.72 58.34zM6.74 423.18a26.67 26.67 0 0 0 1.07 36.57l44.38 44.37a26.74 26.74 0 0 0 36.63 1.14L224 385.93V496a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V329.44L344 280 232 168zM478.46 33.54a114.49 114.49 0 0 0-161.93 0l-2.19 2.18 161.94 161.93 2.18-2.18a114.49 114.49 0 0 0 0-161.93z"}}},5221:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>U,Mh:()=>L});var r=n(64467),a=n(82960),s=n(9934),i=n(62244);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=(0,r.A)({},i.LIBRARY_PUSH,function(e,t){var n=t.payload;return c(c({},e),{},{result:n.artists.result,entities:n.artists.entities})}),u={result:[],entities:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=l[t.type];return n?n(e,t):e}var p=n(28598),m=n(54674),f=n(18666),h=n(76344);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=(0,r.A)((0,r.A)({},i.LIBRARY_PUSH,function(e,t){var n=t.payload;return g(g({},e),{},{result:n.songs.result,entities:n.songs.entities})}),i.LIBRARY_PUSH_SONG,function(e,t){var n=t.payload;return g(g({},e),{},{entities:g(g({},e.entities),n)})}),v={result:[],entities:{}};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=y[t.type];return n?n(e,t):e}var A=n(65279);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=(0,r.A)((0,r.A)((0,r.A)({},i.SONG_STARRED,function(e,t){var n=t.payload;return S(S({},e),{},{songs:S(S({},e.songs),{},(0,r.A)({},n.songId,++e.songs[n.songId]||1))})}),i.SONG_UNSTARRED,function(e,t){var n=t.payload;return S(S({},e),{},{songs:S(S({},e.songs),{},(0,r.A)({},n.songId,Math.max(--e.songs[n.songId],0)))})}),i.STAR_COUNTS_PUSH,function(e,t){return S({},t.payload)}),C={artists:{},songs:{},version:0};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=O[t.type];return n?n(e,t):e}var T=n(85052),w=n(62528),_=n(18685),I=n(22632);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var P=function(e){return(0,a.HY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({artists:d,library:p.Ay,prefs:m.Ay,queue:(0,s.yi)(f.Ay),rooms:h.Ay,songs:R,songInfo:A.Ay,starCounts:N,status:T.Ay,ui:w.Ay,user:_.Ay,userStars:(0,s.yi)(I.A)},e))},L=function(e,t){var n=t.key,r=t.reducer;Object.hasOwnProperty.call(e.asyncReducers,n)||(e.asyncReducers[n]=r,e.replaceReducer(P(e.asyncReducers)))};const U=P},6868:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(23029),a=n(92901),s=n(56822),i=n(53954),o=n(85501),c=n(64467),l=n(5556),u=n.n(l),d=n(96540),p=n(187);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var f=function(e){function t(){var e,n,a,o;(0,r.A)(this,t);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=this,a=t,o=[].concat(u),a=(0,i.A)(a),e=(0,s.A)(n,m()?Reflect.construct(a,o||[],(0,i.A)(n).constructor):a.apply(n,o)),(0,c.A)(e,"state",{isLoading:!0,isErrored:!1}),(0,c.A)(e,"handleImgLoad",function(t){e.setState({isLoading:!1})}),(0,c.A)(e,"handleImgError",function(t){e.setState({isErrored:!0,isLoading:!1})}),e}return(0,o.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props,t=this.state;return d.createElement(d.Fragment,null,(t.isLoading||t.isErrored)&&e.height&&d.createElement(p.A,{icon:"ACCOUNT",size:e.height,className:"VlpZ7WoRWqt_q9Lph86w"}),!t.isErrored&&d.createElement("img",{src:"".concat(document.baseURI,"api/user/").concat(e.userId,"/image?v=").concat(e.dateUpdated),onLoad:this.handleImgLoad,onError:this.handleImgError,className:"".concat("mzDMD6M1pFKWJavfPkH5"," ").concat(e.className),style:{display:t.isLoading?"none":"initial",height:e.height?e.height:null}}))}}])}(d.Component);(0,c.A)(f,"propTypes",{className:u().string,dateUpdated:u().number.isRequired,height:u().number,userId:u().number.isRequired});const h=f},18580:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17929),a=new URL(document.baseURI).pathname;const s=(0,r.zR)({basename:a})},18666:(e,t,n)=>{"use strict";n.d(t,{$1:()=>c,Ai:()=>u,Ay:()=>m,k1:()=>l});var r=n(45458),a=n(64467),s=n(62244);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){return function(t,n){t({type:s.QUEUE_ADD,meta:{isOptimistic:!0},payload:{songId:e}})}}function l(e,t,n,r,a,i,o,c){return function(l,u){l({type:s.QUEUE_ADD,meta:{isOptimistic:!0},payload:{youtubeVideoId:e,thumbnail:t,url:n,duration:r,artist:a,title:i,lyrics:o,karaoke:c}})}}function u(e){return{type:s.QUEUE_REMOVE,meta:{isOptimistic:!0},payload:{queueId:e}}}var d=(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.LOGOUT+s._SUCCESS,function(e,t){return t.payload,{result:[],entities:{}}}),s.QUEUE_ADD,function(e,t){var n=t.payload,s=e.result.length?e.result[e.result.length-1]+1:0;return o(o({},e),{},{result:[].concat((0,r.A)(e.result),[s]),entities:o(o({},e.entities),{},(0,a.A)({},s,o(o({},n),{},{isOptimistic:!0})))})}),s.QUEUE_REMOVE,function(e,t){var n=t.payload,r=e.result.slice();return r.splice(r.indexOf(n.queueId),1),o(o({},e),{},{result:r})}),s.QUEUE_PUSH,function(e,t){var n=t.payload;return{isLoading:!1,result:n.result,entities:n.entities}}),p={isLoading:!0,result:[],entities:{}};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=d[t.type];return n?n(e,t):e}},18685:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>R,_m:()=>h,cH:()=>g,iD:()=>m,ri:()=>f,z0:()=>E});var r=n(64467),a=n(70960),s=n(69282),i=n(54674),o=n(74076),c=n(18580),l=n(62244);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=new o.A("");function m(e){return function(t,n){return t(function(e){return{type:l.LOGIN,payload:e}}(e)),p("POST","login",{body:e}).then(function(e){window._persistor.purge(),t(function(e){return{type:l.LOGIN+l._SUCCESS,payload:e}}(e)),t(g()),window._socket.open(),e.isAdmin&&t((0,i.dJ)());var n=new URLSearchParams(c.A.location.search).get("redirect");n&&c.A.push(n)}).catch(function(e){t(function(e){return{type:l.LOGIN+l._ERROR,error:e.message}}(e))})}}function f(){return function(e,t){return e({type:l.LOGOUT}),p("GET","logout").then(function(t){e({type:l.LOGOUT+l._SUCCESS})}).catch(function(t){e(function(e){return{type:l.LOGOUT+l._ERROR,error:e.message}}(t))}).then(function(){window._persistor.purge(),window._socket.close()})}}function h(e,t){return function(t,n){t({type:l.CREATE_ACCOUNT});var r=n().prefs.isFirstRun;return p("POST",r?"setup":"user",{body:e}).then(function(n){if(r&&"number"!=typeof n.roomId)throw new Error("firstRun: No roomId in response");return t({type:l.CREATE_ACCOUNT+l._SUCCESS}),t(m({username:n.username,password:e.get("newPassword"),roomId:r?n.roomId:e.get("roomId"),roomPassword:e.get("roomPassword")}))}).catch(function(e){t(function(e){return{type:l.CREATE_ACCOUNT+l._ERROR,error:e.message}}(e))})}}function E(e){return function(t,n){var r=n().user.userId;return t({type:l.UPDATE_ACCOUNT}),p("PUT","user/".concat(r),{body:e}).then(function(e){var n;t((n=e,{type:l.UPDATE_ACCOUNT+l._SUCCESS,payload:n})),alert("Account updated successfully.")}).catch(function(e){t(function(e){return{type:l.UPDATE_ACCOUNT+l._ERROR,error:e.message}}(e))})}}function g(){return function(e,t){var n,r={library:t().library.version,stars:t().starCounts.version};e((n=r,{type:l.SOCKET_REQUEST_CONNECT,payload:{query:n}})),window._socket.io.opts.query=r}}var y=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},l.LOGIN+l._SUCCESS,function(e,t){var n=t.payload;return d(d({},e),n)}),l.UPDATE_ACCOUNT+l._SUCCESS,function(e,t){var n=t.payload;return d(d({},e),n)}),l.CREATE_ACCOUNT+l._SUCCESS,function(e,t){var n=t.payload;return d(d({},e),n)}),l.REQUEST_ACCOUNT+l._SUCCESS,function(e,t){var n=t.payload;return d(d({},e),n)}),l.LOGOUT+l._SUCCESS,function(e,t){return t.payload,d({},v)}),l.SOCKET_AUTH_ERROR,function(e,t){return t.payload,d({},v)}),v={userId:null,username:null,name:null,roomId:null,isAdmin:!1,dateCreated:0,dateUpdated:0};const R=(0,a.rL)({key:"user",storage:s.A},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=y[t.type];return n?n(e,t):e})},19997:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(23029),a=n(92901),s=n(56822),i=n(53954),o=n(85501),c=n(64467),l=n(5556),u=n.n(l),d=n(96540);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var m=function(e){function t(){return(0,r.A)(this,t),e=this,n=t,a=arguments,n=(0,i.A)(n),(0,s.A)(e,p()?Reflect.construct(n,a||[],(0,i.A)(e).constructor):n.apply(e,a));var e,n,a}return(0,o.A)(t,e),(0,a.A)(t,[{key:"shouldComponentUpdate",value:function(e){return e.text!==this.props.text}},{key:"render",value:function(){var e=this,t=this.props.offset||-300*Math.random(),n=this.props.text.split("").map(function(n,r){var a=33*(r-e.props.text.length+t);return d.createElement("span",{key:e.props.text+r,className:"rSYTHnGgZWylvF2FCmo6",style:{animationDelay:"".concat(a,"ms")}},n)});return d.createElement("div",{className:"".concat("wfATTZ4_j6b_TY69Ic18"," ").concat(this.props.className)},n)}}])}(d.Component);(0,c.A)(m,"propTypes",{className:u().string,text:u().string.isRequired,offset:u().number});const f=m},22632:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,D:()=>u});var r=n(45458),a=n(64467),s=n(70960),i=n(9934),o=n(62244);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return function(t,n){t((0,i.wd)(n().userStars).starredSongs.includes(e)?function(e){return{type:o.UNSTAR_SONG,meta:{isOptimistic:!0},payload:{songId:e}}}(e):function(e){return{type:o.STAR_SONG,meta:{isOptimistic:!0},payload:{songId:e}}}(e))}}var d=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},o.STAR_SONG,function(e,t){var n=t.payload,r=e.starredSongs.slice();return r.push(n.songId),l(l({},e),{},{starredSongs:r})}),o.UNSTAR_SONG,function(e,t){var n=t.payload,r=e.starredSongs.slice();return r.splice(r.indexOf(n.songId),1),l(l({},e),{},{starredSongs:r})}),o.SONG_STARRED,function(e,t){var n=t.payload;return n.userId!==e.userId||-1!==e.starredSongs.indexOf(n.songId)?e:l(l({},e),{},{starredSongs:[].concat((0,r.A)(e.starredSongs),[n.songId])})}),o.SONG_UNSTARRED,function(e,t){var n=t.payload;if(n.userId!==e.userId)return e;if(-1===e.starredSongs.indexOf(n.songId))return e;var r=e.starredSongs.slice();return r.splice(r.indexOf(n.songId),1),l(l({},e),{},{starredSongs:r})}),o.STARS_PUSH,function(e,t){var n=t.payload;return l(l({},e),n)}),o.LOGIN+o._SUCCESS,function(e,t){var n=t.payload;return l(l({},e),{},{userId:n.userId})}),o.CREATE+o._SUCCESS,function(e,t){var n=t.payload;return l(l({},e),{},{userId:n.userId})}),s.r2,function(e,t){var n=t.payload;return l(l({},e),{},{userId:n&&"number"==typeof n.userId?n.userId:e.userId})}),o.LOGOUT+o._SUCCESS,function(e,t){return t.payload,l({},p)}),o.SOCKET_AUTH_ERROR,function(e,t){return t.payload,l({},p)}),p={userId:null,starredArtists:[],starredSongs:[]};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=d[t.type];return n?n(e,t):e}},28598:(e,t,n)=>{"use strict";n.d(t,{AR:()=>o,Ay:()=>h,Ic:()=>p,RH:()=>c,lo:()=>d,wk:()=>l,yy:()=>u});var r=n(64467),a=n(62244);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return{type:a.SCROLL_ARTISTS,payload:e}}function c(e){return{type:a.TOGGLE_ARTIST_EXPANDED,payload:e}}function l(e){return{type:a.TOGGLE_ARTIST_RESULT_EXPANDED,payload:e}}function u(e){return{type:a.LIBRARY_FILTER_STRING,payload:{str:e},meta:{throttle:{wait:350,leading:!1}}}}function d(){return{type:a.LIBRARY_FILTER_STRING_RESET}}function p(){return{type:a.LIBRARY_FILTER_TOGGLE_STARRED}}var m=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},a.LIBRARY_FILTER_STRING,function(e,t){var n=t.payload;return i(i({},e),{},{filterStr:n.str})}),a.LIBRARY_FILTER_STRING_RESET,function(e,t){return t.payload,i(i({},e),{},{filterStr:""})}),a.LIBRARY_FILTER_TOGGLE_STARRED,function(e,t){return t.payload,i(i({},e),{},{filterStarred:!e.filterStarred})}),a.SCROLL_ARTISTS,function(e,t){var n=t.payload;return i(i({},e),{},{scrollTop:n})}),a.TOGGLE_ARTIST_EXPANDED,function(e,t){var n=t.payload,r=e.expandedArtists.slice(),a=r.indexOf(n);return-1===a?r.push(n):r.splice(a,1),i(i({},e),{},{expandedArtists:r})}),a.TOGGLE_ARTIST_RESULT_EXPANDED,function(e,t){var n=t.payload,r=e.expandedArtistResults.slice(),a=r.indexOf(n);return-1===a?r.push(n):r.splice(a,1),i(i({},e),{},{expandedArtistResults:r})}),a.LIBRARY_PUSH,function(e,t){var n=t.payload;return i(i({},e),{},{isLoading:!1,version:n.version})}),f={isLoading:!0,version:0,filterStr:"",filterStarred:!1,scrollTop:0,expandedArtists:[],expandedArtistResults:[]};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=m[t.type];return n?n(e,t):e}},51972:(e,t,n)=>{"use strict";var r=n(64467),a=n(96540),s=n(40961),i=n(82960),o=n(82284),c=n(9934);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=0,p=n(1265),m=n(44063),f=n(5221),h=n(62528),E=n(23029),g=n(92901),y=n(56822),v=n(53954),R=n(85501),A=n(5556),b=n.n(A),S=n(6527),O=n(68131),C=n(24180),N=n(80296),T=n(40936),w=(n(87469),n(1081)),_=n(54674),I=function(e){return(0,c.wd)(e.queue).result},k=function(e){return(0,c.wd)(e.queue).entities},P=(0,w.Mz)([I,function(e){return e.status.historyJSON},function(e){return e.status.queueId}],function(e,t,n){var r=JSON.parse(t);return-1!==n&&r.push(n),r.filter(function(t){return e.includes(t)})}),L=(0,w.Mz)([I,k,P],function(e,t,n){var r=[],a=n.map(function(e){return t[e].userId});for(e=e.filter(function(e){return!n.includes(e)&&(r.push(t[e].userId),!0)});e.length;){var s=U(r,a),i=r.indexOf(s),o=e.splice(i,1)[0];r.splice(i,1),n.push(o),a.push(s)}return n});function U(e,t){var n=Array.from(new Set(e)),r=[];return n.forEach(function(e){var n=t.lastIndexOf(e);r.push(-1===n?1/0:t.length-n)}),n[r.indexOf(Math.max.apply(Math,r))]}const D=(0,w.Mz)([L,k],function(e,t){return{result:e,entities:t}});var H=n(51916),M=n.n(H),q=n(85052),j=n(187),x=n(58168),V=n(11888);function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(z=function(){return!!e})()}var B=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,z()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{val:e.props.value,isDragging:!1,isStable:!0}),(0,r.A)(e,"timerId",null),(0,r.A)(e,"handleChange",function(t){e.setState({val:t},function(){e.props.onChange(t)})}),(0,r.A)(e,"handleBeforeChange",function(){(0,h.Dx)(!0),clearTimeout(e.timerId),e.setState({isDragging:!0})}),(0,r.A)(e,"handleAfterChange",function(t){(0,h.Dx)(!1),e.setState({isStable:t===e.props.value,isDragging:!1}),t!==e.props.value&&(e.timerId=setTimeout(function(){return e.setState({val:e.props.value})},2e3))}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e){this.state.isStable||this.state.val!==this.props.value||(clearTimeout(this.timerId),this.setState({isStable:!0}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(!t.isDragging&&!t.isStable&&e.value!==t.val)}},{key:"render",value:function(){return a.createElement(V.Ay,(0,x.A)({},this.props,{value:this.state.isDragging?this.state.val:this.props.value,onChange:this.handleChange,onBeforeChange:this.handleBeforeChange,onAfterChange:this.handleAfterChange}))}}])}(a.Component);(0,r.A)(B,"propTypes",{handle:b().func.isRequired,min:b().number.isRequired,max:b().number.isRequired,step:b().number.isRequired,value:b().number.isRequired,onChange:b().func.isRequired});const G=B;function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(F=function(){return!!e})()}var Y=function(e){function t(){return(0,E.A)(this,t),e=this,n=t,r=arguments,n=(0,v.A)(n),(0,y.A)(e,F()?Reflect.construct(n,r||[],(0,v.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){return a.createElement(G,{min:0,max:1,step:.01,value:this.props.volume,onChange:this.props.onVolumeChange,handle:W,className:"dMo9SQYONtw9WYO5lxiN"})}}])}(a.Component);(0,r.A)(Y,"propTypes",{volume:b().number.isRequired,onVolumeChange:b().func.isRequired});var W=function(e){var t=e.value,n="VOLUME_UP";return 0===t?n="VOLUME_OFF":t<.4?n="VOLUME_MUTE":t<.7&&(n="VOLUME_DOWN"),a.createElement(j.A,{icon:n,size:42,className:"pMYNwtxIUiwKZSuUB8NQ",style:{left:"calc(".concat(e.offset,"% - 18px)")}})};const Q=Y;var K=n(54625);const Z=function(e){return a.createElement("div",{className:"sfr6H9YQSnxNFewvtYb2"},a.createElement("p",{className:"QYsiKZ5NRjaOsK5iaXfX"},"No player in room (",a.createElement(K.N_,{to:"/player"},"Start Player"),")"))};var X=n(87121);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee=function(e){var t=(0,S.d4)(function(e){return e.ui});return a.createElement(X.a,{animationDuration:167,open:e.isVisible,onClose:e.onClose,closeOnEsc:!0,closeOnOverlayClick:!0,classNames:{overlay:"wRkkzow8DtkxLNTzMhxJ",modal:"CKty5KaEk_nKaO8C9NWj",closeButton:"ajGpLQigfVaB7SeJ9yHQ"},styles:{modal:$({maxWidth:.85*t.contentWidth,maxHeight:.9*t.innerHeight},e.style)}},a.createElement("div",{className:"HHYLkEZBcUJPga1se3oQ"},a.createElement("h1",{className:"eJLT6828XSsubIHdpAW2"},e.title),a.createElement("div",{className:"M1nSLELWzWtg0nMNVAPp"},e.children),e.buttons&&a.createElement("div",{className:"nsGMxmc6ZA0V4Fwl17Bf"},e.buttons)))};ee.propTypes={buttons:b().any,children:b().any,isVisible:b().bool.isRequired,onClose:b().func.isRequired,style:b().object,title:b().string.isRequired};const te=ee,ne={section:"eBgZD0SKZoZxdKfDH4T1",visualizer:"PJhDzihe1KxTY9CE2xvq eBgZD0SKZoZxdKfDH4T1",lyrics:"Y8xCNeqBBAdhv1S2a0zC eBgZD0SKZoZxdKfDH4T1",field:"lNVvAVB0rbHGFBU4wBbH",presetBtnContainer:"QyK2Uk7cCogrdI3yDGZX",btnPreset:"Busc1bvYRrq8mQTC8UsA",btnIcon:"UD9HYyUBgOjSl2ux6LIp",unsupported:"zIEucMK4dBypf03pERBF",slider:"MhuyzAaoykU7XrttP0lt",handle:"vA6PJ2CfQyCJ0Aqjod8g"};function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(re=function(){return!!e})()}var ae=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,re()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"checkbox",a.createRef()),(0,r.A)(e,"handleAlpha",function(t){e.props.onRequestOptions((0,r.A)({},e.props.mediaType+"Alpha",t))}),(0,r.A)(e,"handleSensitivity",function(t){return e.props.onRequestOptions({visualizer:{sensitivity:t}})}),(0,r.A)(e,"handleSize",function(t){e.props.onRequestOptions({cdgSize:t})}),(0,r.A)(e,"handleToggleVisualizer",function(){return e.props.onRequestOptions({visualizer:{isEnabled:!e.props.isVisualizerEnabled}})}),(0,r.A)(e,"handlePresetNext",function(){return e.props.onRequestOptions({visualizer:{nextPreset:!0}})}),(0,r.A)(e,"handlePresetPrev",function(){return e.props.onRequestOptions({visualizer:{prevPreset:!0}})}),(0,r.A)(e,"handlePresetRandom",function(){return e.props.onRequestOptions({visualizer:{randomPreset:!0}})}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){return a.createElement(te,{isVisible:this.props.isVisible,onClose:this.props.onClose,title:"Display",buttons:a.createElement("button",{onClick:this.props.onClose},"Done"),style:{width:Math.max(320,.66*this.props.ui.contentWidth)}},a.createElement("div",{className:ne.container},a.createElement("fieldset",{className:ne.visualizer},a.createElement("legend",null,a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:this.props.isVisualizerEnabled,disabled:!this.props.isWebGLSupported,onChange:this.handleToggleVisualizer,ref:this.checkbox})," Visualizer")),this.props.isWebGLSupported&&"cdg"===this.props.mediaType&&a.createElement(a.Fragment,null,a.createElement("div",{className:ne.presetBtnContainer},a.createElement("button",{className:ne.btnPreset,onClick:this.handlePresetPrev},a.createElement(j.A,{icon:"CHEVRON_LEFT",size:42,className:ne.btnIcon})),a.createElement("button",{className:ne.btnPreset,onClick:this.handlePresetRandom},a.createElement(j.A,{icon:"DICE",size:48,className:ne.btnIcon})),a.createElement("button",{className:ne.btnPreset,onClick:this.handlePresetNext},a.createElement(j.A,{icon:"CHEVRON_RIGHT",size:42,className:ne.btnIcon}))),a.createElement("label",null,this.props.visualizerPresetName),a.createElement("label",{className:ne.field},"Sensitivity"),a.createElement(G,{min:0,max:2,step:.01,value:this.props.sensitivity,onChange:this.handleSensitivity,handle:se,className:ne.slider})),this.props.isWebGLSupported&&"cdg"!==this.props.mediaType&&a.createElement("p",{className:ne.unsupported},"Not available for this media type"),!this.props.isWebGLSupported&&a.createElement("p",{className:ne.unsupported},"WebGL not supported")),a.createElement("fieldset",{className:ne.lyrics},a.createElement("legend",null,a.createElement("label",null,"Lyrics")),"cdg"===this.props.mediaType&&a.createElement(a.Fragment,null,a.createElement("label",{className:ne.field},"Size"),a.createElement(G,{min:.6,max:1,step:.01,value:this.props.cdgSize,onChange:this.handleSize,handle:se,className:ne.slider}),a.createElement("label",{className:ne.field},"Background"),a.createElement(G,{min:0,max:1,step:.01,value:this.props[this.props.mediaType+"Alpha"],onChange:this.handleAlpha,handle:se,className:ne.slider})),"cdg"!==this.props.mediaType&&a.createElement("p",{className:ne.unsupported},"No options available"))))}}])}(a.Component);(0,r.A)(ae,"propTypes",{cdgAlpha:b().number.isRequired,cdgSize:b().number.isRequired,isVisible:b().bool.isRequired,isVisualizerEnabled:b().bool.isRequired,isWebGLSupported:b().bool.isRequired,mediaType:b().string,mp4Alpha:b().number.isRequired,sensitivity:b().number.isRequired,visualizerPresetName:b().string.isRequired,ui:b().object.isRequired,onRequestOptions:b().func.isRequired,onClose:b().func.isRequired});var se=function(e){return a.createElement(j.A,{icon:"CIRCLE",size:36,className:ne.handle,style:{left:"calc(".concat(e.offset,"% - 18px)")}})};const ie=ae;var oe=function(){if(M().isEnabled){var e=document.getElementById("player-fs-container");M().request(e)}};const ce=function(e){var t=(0,S.d4)(function(e){return e.user.isAdmin}),n=(0,S.d4)(function(e){return null!==e.user.roomId}),r=(0,S.d4)(function(e){return e.status}),s=(0,S.d4)(function(e){return e.ui}),i=(0,C.zy)().pathname.replace(/\/$/,"").endsWith("/player"),o=(0,S.wA)(),c=(0,a.useCallback)(function(e){return o((0,q.ag)(e))},[o]),l=(0,a.useCallback)(function(){return o((0,q.wr)())},[o]),u=(0,a.useCallback)(function(){return o((0,q.cd)())},[o]),d=(0,a.useCallback)(function(){return o((0,q.Lx)())},[o]),p=(0,a.useCallback)(function(){return o((0,q.cV)())},[o]),m=(0,a.useCallback)(function(e){return o((0,q.MP)(e))},[o]),f=(0,a.useState)(!1),h=(0,N.A)(f,2),E=h[0],g=h[1],y=(0,a.useCallback)(function(){g(!E)},[E]);return r.isPlayerPresent?a.createElement("div",{className:"s6dMfvg4cHkpBCZwMxlM"},r.isPlaying&&a.createElement("div",{onClick:l,className:"pjBKslXw1U349A1rnhe0 utieeUffOQOs5Tb422mr"},a.createElement(j.A,{icon:"PAUSE",size:44})),!r.isPlaying&&a.createElement("div",{onClick:u,className:"ffq0SD5gzioIYEcgKgLY utieeUffOQOs5Tb422mr"},a.createElement(j.A,{icon:"PLAY",size:44})),a.createElement("div",{onClick:d,className:"tQEHmnxGjJM781oxemUN utieeUffOQOs5Tb422mr"},a.createElement(j.A,{icon:"PLAY_NEXT",size:48})),r.isAtQueueEnd&&a.createElement("div",{onClick:p,className:"svEsVZEZqPtvIAxqp1Zd utieeUffOQOs5Tb422mr",title:"Restart Queue"},a.createElement(j.A,{icon:"REPLAY",size:44})),a.createElement(Q,{volume:r.volume,onVolumeChange:m}),a.createElement("div",{onClick:y,className:"fIuT4teYAIcl4oLOLEzJ utieeUffOQOs5Tb422mr"},a.createElement(j.A,{icon:"TUNE",size:44})),i&&M().isEnabled&&a.createElement("div",{onClick:oe,className:"HZ7zG9VjL9eCkdQDZGIM utieeUffOQOs5Tb422mr"},a.createElement(j.A,{icon:"FULLSCREEN",size:48})),a.createElement(ie,{cdgAlpha:r.cdgAlpha,cdgSize:r.cdgSize,isVisible:E,isVisualizerEnabled:r.visualizer.isEnabled,isWebGLSupported:r.isWebGLSupported,mediaType:r.mediaType,mp4Alpha:r.mp4Alpha,onClose:y,onRequestOptions:c,sensitivity:r.visualizer.sensitivity,ui:s,visualizerPresetName:r.visualizer.presetName})):t&&n&&M().isEnabled?a.createElement(Z,null):null};function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(le=function(){return!!e})()}var ue=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,le()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isCanceling:!1,isVisible:!1}),(0,r.A)(e,"handleCancelClick",function(){e.props.isActive&&!e.state.isCanceling?(e.setState({isCanceling:!0}),e.props.onCancel()):e.setState({isVisible:!1})}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.isActive&&!e.isActive?this.setState({isVisible:!0,isCanceling:!1}):this.state.isCanceling&&this.props.text!==e.text&&this.setState({isCanceling:!1})}},{key:"render",value:function(){var e=this.state,t=this.props;return e.isVisible?a.createElement("div",{className:"R0tWhGzOMnxRvplqamqt",style:{backgroundSize:t.pct+"% 100%"}},a.createElement("p",{className:"WxqoYmzzeIRmqDepbVLR"},e.isCanceling?"Stopping...":t.text),a.createElement("div",{className:"L3KVVs498s_TTzMFHKn5",onClick:this.handleCancelClick},a.createElement(j.A,{icon:"CLEAR",size:40,className:t.isActive?"iL_22Dl4fbuLsQo42o2o":"rMNneKuTapuKwyse_AMl"}))):null}}])}(a.Component);(0,r.A)(ue,"propTypes",{isActive:b().bool.isRequired,onCancel:b().func.isRequired,pct:b().number.isRequired,text:b().string.isRequired});const de=ue;function pe(e){return function(e){return e.toISOString().substring(0,10)}(e)+" "+function(e){var t=e.getHours(),n=e.getMinutes(),r=t>11?"p":"a";return t>12?t-=12:0===t&&(t="12"),n<10&&(n="0"+n),t+":"+n+r}(e)}function me(e){var t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0"+n:n)}function fe(e){if(e>=60&&arguments.length>1&&void 0!==arguments[1]&&arguments[1])return Math.round(e/60)+"m";var t=Math.floor(e/60),n=e%60;return t?"".concat(t,"m ").concat(n,"s"):"".concat(n,"s")}const he="ZYRIFRvELzaH67PRlPlp";var Ee=function(e){return e.isUpNow?a.createElement("div",{className:"C9WuYntlaEVvxRaewY7r qdbIg3xgUn4KEomWXd7E"},a.createElement("p",{className:he},"You’re up ",a.createElement("strong",null,"now"))):e.isUpNext?a.createElement("div",{className:"PhYxOVpDCwPMJWw0BE6k qdbIg3xgUn4KEomWXd7E"},a.createElement("p",{className:he},"You’re up ",a.createElement("strong",null,"next"),e.wait?" in ".concat(fe(e.wait,!0)):"")):e.wait?a.createElement("div",{className:"pXcSEQ5RRGogLr2WCFum qdbIg3xgUn4KEomWXd7E"},a.createElement("p",{className:he},"You’re up in ",fe(e.wait,!0))):null};Ee.propTypes={isUpNow:b().bool.isRequired,isUpNext:b().bool.isRequired,wait:b().number};const ge=Ee;var ye=function(e){return e.status.queueId},ve=function(e){return e.user.userId},Re=(0,w.Mz)([D,function(e){return e.songs},ye,function(e){return e.status.position},ve],function(e,t,n,r,a){if(e.entities[n]){var s=0;if(e.entities[n].youtubeVideoId)s=e.entities[n].youtubeVideoDuration;else{if(!t.entities[e.entities[n].songId])return;s=t.entities[e.entities[n].songId].duration}for(var i=Math.round(s-r),o=e.result.indexOf(n)+1;o<e.result.length;o++){if(e.entities[e.result[o]]&&e.entities[e.result[o]].userId===a)return i;i+=s}}}),Ae=(0,w.Mz)([D,ye,function(e){return e.status.isAtQueueEnd},ve],function(e,t,n,r){var a=e.result,s=e.entities,i=a.indexOf(t),o=s[t];return{isUpNext:!!a[i+1]&&s[a[i+1]].userId===r,isUpNow:!!o&&!n&&o.userId===r}}),be=a.forwardRef(function(e,t){var n=e.customHeader,r=(0,S.d4)(function(e){return e.user.isAdmin}),s=(0,S.d4)(function(e){return e.status.isPlayerPresent}),i=(0,S.d4)(function(e){return e.prefs.isScanning}),o=(0,S.d4)(function(e){return e.prefs.scannerText}),c=(0,S.d4)(function(e){return e.prefs.scannerPct}),l=(0,S.d4)(Ae),u=l.isUpNext,d=l.isUpNow,p=(0,S.d4)(Re),m=(0,C.zy)().pathname.replace(/\/$/,"").endsWith("/player"),f=(0,S.wA)(),h=(0,a.useCallback)(function(){return f((0,_.fm)())},[f]);return a.createElement("div",{className:"".concat("vreYukSnqUrGi25wejn4"," bg-blur"),ref:t},!m&&s&&a.createElement(ge,{isUpNext:u,isUpNow:d,wait:p}),(d||r)&&a.createElement(ce,null),r&&!m&&a.createElement(de,{isActive:i,onCancel:h,pct:c,text:o}),e.customHeader&&a.createElement(n,null))});be.displayName="Header",be.propTypes={customHeader:b().object};const Se=be,Oe="ekb54bjQ8jCQ8gjJwL6h",Ce="CERhwPlf7uoRzmK7byOo",Ne="LpKkKnxGUM9XUZaJYwKA";var Te=a.forwardRef(function(e,t){return a.createElement("div",{className:"".concat("sjMaG58osNAeqXFe4zpO"," bg-blur"),ref:t},a.createElement(K.k2,{to:"/library",className:Oe,activeClassName:Ce},a.createElement(j.A,{icon:"NAV_LIBRARY",size:42,className:Ne})),a.createElement(K.k2,{to:"/queue",className:Oe,activeClassName:Ce},a.createElement(j.A,{icon:"NAV_SUBSCRIPTIONS",size:42,className:Ne})),a.createElement(K.k2,{to:"/account",className:Oe,activeClassName:Ce},a.createElement(j.A,{icon:"NAV_ACCOUNT",size:42,className:Ne})))});Te.displayName="Navigation";const we=Te;var _e=n(65279);const Ie="TSJBvSrnl7BotohIdqrj",ke=function(e){var t=(0,S.d4)(function(e){return e.songInfo}),n=t.isLoading,r=t.isVisible,s=t.songId,i=t.media,o=(0,S.wA)(),c=function(){return o((0,_e.ks)())},l=i.result.map(function(e){var t=i.entities[e],n=!!t.isPreferred;return a.createElement("div",{key:t.mediaId,className:"k8N_J395xr2bblBgwvim"},t.path+(0===t.path.indexOf("/")?"/":"\\")+t.relPath,a.createElement("br",null),a.createElement("span",{className:Ie},"Duration: "),me(t.duration),a.createElement("br",null),a.createElement("span",{className:Ie},"Media ID: "),e,a.createElement("br",null),a.createElement("span",{className:Ie},"Preferred: "),n&&a.createElement("span",null,a.createElement("strong",null,"Yes")," ",a.createElement("a",{onClick:function(){return function(e){return o((0,_e.Ko)(s,e,!1))}(e)}},"(Unset)")),!n&&a.createElement("span",null,"No ",a.createElement("a",{onClick:function(){return function(e){return o((0,_e.Ko)(s,e,!0))}(e)}},"(Set)")))});return a.createElement(te,{isVisible:r,onClose:c,title:"Song Info",buttons:a.createElement("button",{onClick:c},"Done"),style:{width:"100%",height:"100%"}},a.createElement("p",null,a.createElement("span",{className:Ie},"Song ID: "),s,a.createElement("br",null),a.createElement("span",{className:Ie},"Media Files: "),n?"?":i.result.length),n?a.createElement("p",null,"Loading..."):l)};var Pe=n(80045),Le=["children","path","redirect"],Ue=function(e){var t=e.children,n=e.path,r=e.redirect,s=(0,Pe.A)(e,Le),i=(0,S.d4)(function(e){return null!==e.user.userId}),o=(0,C.zy)();if(!i){var c=new URLSearchParams(o.search);return c.set("redirect",n),a.createElement(C.rd,{to:r+"?"+c.toString()})}return a.createElement(C.qh,s,t)};Ue.propTypes={children:b().node.isRequired,path:b().string.isRequired,redirect:b().string.isRequired};const De=Ue;var He=n(74076),Me=n(62244);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xe=new He.A("");function Ve(){return function(e,t){return e({type:Me.USERS_REQUEST}),xe("GET","users").then(function(t){e(function(e){return{type:Me.USERS_RECEIVE,payload:e}}(t))}).catch(function(t){e({type:Me.USERS_REQUEST+Me._ERROR,error:t.message})})}}function ze(e){return{type:Me.USERS_FILTER_ONLINE,payload:e}}function Be(e){return{type:Me.USERS_FILTER_ROOM_ID,payload:e}}var Ge=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},Me.USERS_CREATE+Me._SUCCESS,function(e,t){return t.payload,je(je({},e),{},{isEditorOpen:!1})}),Me.USERS_RECEIVE,function(e,t){var n=t.payload;return je(je({},e),n)}),Me.USERS_EDITOR_OPEN,function(e,t){return t.payload,je(je({},e),{},{isEditorOpen:!0})}),Me.USERS_EDITOR_CLOSE,function(e,t){return t.payload,je(je({},e),{},{isEditorOpen:!1})}),Me.USERS_FILTER_ONLINE,function(e,t){var n=t.payload;return je(je({},e),{},{filterOnline:n,filterRoomId:null})}),Me.USERS_FILTER_ROOM_ID,function(e,t){var n=t.payload;return je(je({},e),{},{filterOnline:!1,filterRoomId:n})}),Me.USERS_REMOVE+Me._SUCCESS,function(e,t){return t.payload,je(je({},e),{},{isEditorOpen:!1})}),Me.USERS_UPDATE+Me._SUCCESS,function(e,t){return t.payload,je(je({},e),{},{isEditorOpen:!1})}),Fe={result:[],entities:{},filterOnline:!0,filterRoomId:null,isEditorOpen:!1};function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,n=Ge[t.type];return n?n(e,t):e}var We=n(96133);const Qe=n.p+"images/app.png";var Ke=function(e){return a.createElement("div",{className:"".concat("MhLrBfYw2bVvon36GHQg"," ").concat(e.className)},a.createElement("img",{src:Qe,alt:"microphone",className:"sPuhcqSc8Pa3HWgUfz7Q"}),a.createElement("h1",{className:"MRwxEsiCu74aMC4fJ2yn"},"Karaoke",a.createElement("span",{className:"wZ9OSKmGn1o6JPo1ERqg"},"Forever")))};Ke.propTypes={className:b().string};const Ze=Ke,Xe=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,a.useCallback)(function(){return s(function(e){return!e})},[]);return a.createElement("div",{className:"U8A_lOQ63TZUTsiYgktE"},a.createElement("h1",{className:"TEhgIScv1BL8HW1JbB3B"},"About"),a.createElement("div",{className:"XIvZjD6Co9DyofyCj0Da"},a.createElement("a",{href:"https://www.karaoke-forever.com",target:"blank"}," ",a.createElement(Ze,{className:"oPMyaF6eFojk2b8ZQKwH"})),a.createElement("p",{className:"mFno0FFze3kHGDdbZDBB"},"v","0.0.0-dev.0","   ©","2019-2025 RadRoot LLC"," "),a.createElement("p",null,a.createElement("a",{className:"NjmtwxMJxR179Hk2Pomb",onClick:i},"Changelog & Sponsors")," | ",a.createElement("a",{href:"/licenses.txt",target:"blank"},"Licenses"))," ",a.createElement(We.A,{href:"https://github.com/bhj/karaoke-forever/","data-size":"large","data-color-scheme":"no-preference: dark; light: dark;"},"GitHub"),"  ",a.createElement(We.A,{"data-icon":"octicon-heart",href:"https://github.com/sponsors/bhj/","data-size":"large","data-color-scheme":"no-preference: dark; light: dark;"},"Sponsor"),"  ",a.createElement(We.A,{"data-icon":"octicon-issue-opened",href:"https://github.com/bhj/karaoke-forever/issues","data-size":"large","data-color-scheme":"no-preference: dark; light: dark;"},"Issue")," "),a.createElement(te,{isVisible:r,onClose:i,title:"Changelog & Sponsors",buttons:a.createElement("button",{onClick:i},"Done"),style:{height:"100%"}},a.createElement("div",{dangerouslySetInnerHTML:{__html:'<h2 id="tbd">TBD</h2> <h3 id="new">New</h3> <ul> <li><strong>(app)</strong> User management interface!</li> <li><strong>(app)</strong> CD+Graphics backgrounds are now content-aware for better visuals and readability</li> <li><strong>(app)</strong> Media folders can now be prioritized via drag-and-drop</li> <li><strong>(app)</strong> Summary is now shown following a media scan</li> <li><strong>(app)</strong> Added ~370 visualizer presets (now 472 total)</li> <li><strong>(server)</strong> Support for custom URL base path (see <code>--urlPath</code> CLI option)</li> <li><strong>(server)</strong> Reduced load and improved client connection speed via library caching</li> </ul> <h3 id="changed">Changed</h3> <ul> <li><strong>(app)</strong> <strong>(breaking)</strong> Browsers without the <a href="https://caniuse.com/#feat=mdn-api_resizeobserver">ResizeObserver API</a> are no longer supported</li> <li><strong>(server)</strong> Uses one less process/helper</li> <li><strong>(server)</strong> Media scanner performance is greatly improved when adding media</li> <li><strong>(server)</strong> Media scanner process is restricted to read-only database access</li> <li><strong>(server)</strong> Fixed potential error when a non-admin user tries to remove one of their queued songs</li> <li><strong>(server)</strong> Fixed potential SQLITE_BUSY errors while scanning media</li> <li><strong>(server)</strong> Fixed error message when no artist/title delimiter in filename</li> <li><strong>(server)</strong> Idle client socket connections no longer bounce</li> </ul> <h2 id="v080-2020-07-03">v0.8.0 (2020-07-03)</h2> <h3 id="black-lives-matter"><a href="https://blacklivesmatter.com">Black Lives Matter.</a></h3> <h3 id="sponsors">Sponsors</h3> <p>Massive thanks to this release&#39;s sponsors: <a href="https://github.com/fulldecent">fulldecent</a>, <a href="https://github.com/vze22jjw">vze22jjw</a></p> <p>If you have fun with it, consider <a href="https://github.com/sponsors/bhj">sponsoring</a> as we roll down <a href="https://github.com/bhj/karaoke-forever/issues/13">the road to v1.0</a>.</p> <h3 id="new-1">New</h3> <ul> <li><strong>(app)</strong> <a href="http://www.karaoke-forever.com/docs/#preferences-admin-only">ReplayGain support</a>. No more scrambling for the volume when a new song starts! With properly tagged media, the player can automatically minimize volume differences between songs.</li> <li><strong>(app)</strong> Rooms can now be password-protected</li> <li><strong>(player)</strong> CD+Graphics now have shadows, can be resized, and use less CPU</li> <li><strong>(player)</strong> <strong>(breaking)</strong> Web Audio API support is now required (only for browsers running the player)</li> <li><strong>(server)</strong> <strong>(breaking)</strong> Database will be migrated and no longer compatible with v0.7.x</li> </ul> <h3 id="changed-1">Changed</h3> <ul> <li><strong>(app)</strong> Reduced motion and improved accessibility of modals</li> <li><strong>(app)</strong> Fixed status not respected when creating a new room</li> <li><strong>(player)</strong> Visualizer sensitivity can now be set up to 200%</li> <li><strong>(player)</strong> Fixed media possibly not (pre)loading in Firefox</li> <li><strong>(server)</strong> Added minimum password length requirement (6) and removed limit</li> <li><strong>(server)</strong> Fixed incorrect queue potentially emitted after setting preferred media</li> <li><strong>(server)</strong> Improved filename parser and renamed config option <code>separator</code> to <code>delimiter</code></li> <li><strong>(server)</strong> Improved logging and made <code>3 (info)</code> the default log file level</li> </ul> <h2 id="v074-2019-12-30">v0.7.4 (2019-12-30)</h2> <ul> <li>Initial release on <a href="https://www.npmjs.com/package/karaoke-forever">npm</a></li> <li><strong>(app)</strong> Improved sign in/first run form</li> <li><strong>(app)</strong> Added About panel with version and licenses</li> <li><strong>(app)</strong> General style improvements</li> <li><strong>(server)</strong> Improved field validation and error messages</li> <li><strong>(server)</strong> Songs/artists without known media are no longer removed automatically after scan</li> <li><strong>(server)</strong> Media in nonexistent paths are now removed after scan</li> <li><strong>(server)</strong> Replace dep <code>squel</code> with <code>sqlate</code></li> </ul> <h2 id="v073-2019-09-13">v0.7.3 (2019-09-13)</h2> <ul> <li>Initial public release :-D</li> </ul> '}})))};var Je=n(18685),$e=n(58202),et=n.n($e);function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tt=function(){return!!e})()}var nt=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,tt()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isLoading:!0,imageURL:e.props.user&&null!==e.props.user.userId?"".concat(document.baseURI,"api/user/").concat(e.props.user.userId,"/image?v=").concat(e.props.user.dateUpdated):null}),(0,r.A)(e,"handleImgLoad",function(){e.setState({isLoading:!1})}),(0,r.A)(e,"handleImgError",function(t){e.setState({imageURL:null,isLoading:!1})}),(0,r.A)(e,"handleImgClear",function(){e.setState({imageURL:null}),e.props.onSelect(null)}),(0,r.A)(e,"handleChoose",function(t){var n=t.target.files[0];n&&et()(n,function(t){if("error"===t.type)return alert("The image could not be loaded.");et().scale(t,{maxWidth:400,maxHeight:300,crop:!0,downsamplingRatio:.5}).toBlob(function(t){e.setState({imageURL:URL.createObjectURL(t)}),e.props.onSelect(t)},"image/jpeg")},{canvas:!0,aspectRatio:4/3,orientation:!0})}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e,t){t.imageURL!==this.state.imageURL&&URL.revokeObjectURL(t.imageURL)}},{key:"render",value:function(){return a.createElement("div",{className:"rIur97ACvqfbIkmbOiCL"},!this.state.imageURL&&a.createElement(j.A,{icon:"ACCOUNT_BOX",size:72,className:"QoNRuAf71c67_0daJ00g"}),this.state.imageURL&&a.createElement("img",{src:this.state.imageURL,width:96,height:72,onLoad:this.handleImgLoad,onError:this.handleImgError}),this.state.imageURL&&!this.state.isLoading&&a.createElement(j.A,{icon:"CLEAR",size:32,onClick:this.handleImgClear,className:"zDcM8XBIpYcWZBK2ostT"}),a.createElement("input",{type:"file",accept:"image/*",onChange:this.handleChoose,className:"_03pNkaJuEzTEpMZlrFAs",tabIndex:"-1"}))}}])}(a.Component);(0,r.A)(nt,"propTypes",{user:b().object,onSelect:b().func.isRequired});const rt=nt,at="TFXhqL1_ppdgVq8Ip8G0";function st(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(st=function(){return!!e})()}var it=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,st()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isDirty:!1,isChangingPassword:(!e.props.user||null===e.props.user.userId)&&e.props.isPasswordRequired,userImage:void 0}),(0,r.A)(e,"handleSubmit",function(t){t.preventDefault();var n=new FormData;e.name.value.trim()&&n.append("name",e.name.value.trim()),e.username&&e.username.value.trim()&&n.append("username",e.username.value.trim()),e.state.isChangingPassword&&e.newPassword&&e.newPasswordConfirm&&(n.append("newPassword",e.newPassword.value),n.append("newPasswordConfirm",e.newPasswordConfirm.value)),void 0!==e.state.userImage&&n.append("image",e.state.userImage),e.role&&n.append("role",e.role.value),e.props.onSubmit(n)}),(0,r.A)(e,"handleUserImageChange",function(t){e.setState({userImage:t,isDirty:!0})}),(0,r.A)(e,"updateDirty",function(){e.props.user&&null!==e.props.user.userId?e.setState({isDirty:e.username&&!!e.username.value||e.newPassword&&!!e.newPassword.value||e.name.value!==e.props.user.name||e.role.value!==(e.props.user.isAdmin?"1":"0"),isChangingPassword:e.newPassword&&!!e.newPassword.value}):e.setState({isDirty:!0,isChangingPassword:e.newPassword&&!!e.newPassword.value})}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.user&&e.user.dateUpdated!==this.props.user.dateUpdated&&this.setState({isDirty:!1}),this.props.onDirtyChange&&t.isDirty!==this.state.isDirty&&this.props.onDirtyChange(this.state.isDirty)}},{key:"render",value:function(){var e=this,t=this.props.user&&null!==this.props.user.userId;return a.createElement("form",{onSubmit:this.handleSubmit,className:"UJP7G5dKPXhMYPVm9lGC",noValidate:!0},this.props.isUsernameRequired&&a.createElement("input",{type:"email",autoComplete:"off",autoFocus:!t,onChange:this.updateDirty,placeholder:t?"change username (optional)":"username or email",ref:function(t){e.username=t},className:at}),(this.props.isPasswordRequired||this.props.showRole&&this.role&&"1"===this.role.value)&&a.createElement("input",{type:"password",autoComplete:"new-password",onChange:this.updateDirty,placeholder:t?"change password (optional)":"password",ref:function(t){e.newPassword=t},className:at}),this.state.isChangingPassword&&a.createElement("input",{type:"password",autoComplete:"new-password",placeholder:t?"new password confirm":"confirm password",ref:function(t){e.newPasswordConfirm=t},className:at}),a.createElement("div",{className:"MRv8af4NPh12SLYbjwuA",style:{order:this.props.isUsernameRequired?"":"-1"}},a.createElement(rt,{user:this.props.user,onSelect:this.handleUserImageChange}),a.createElement("input",{type:"text",defaultValue:t?this.props.user.name:"",onChange:this.updateDirty,placeholder:"display name",ref:function(t){e.name=t},className:"".concat(at," ").concat("TXcvFiC1fGbvm_9tjD0d")})),this.props.showRole&&a.createElement("select",{defaultValue:t&&this.props.user.isAdmin?"1":"0",onChange:this.updateDirty,ref:function(t){e.role=t},className:at},a.createElement("option",{key:"choose",value:"",disabled:!0},"select role..."),a.createElement("option",{key:"std",value:"0"},"Standard"),a.createElement("option",{key:"admin",value:"1"},"Administrator")),this.props.children)}}])}(a.Component);(0,r.A)(it,"propTypes",{children:b().node,onDirtyChange:b().func,onSubmit:b().func.isRequired,requirePassword:b().bool,showRole:b().bool,user:b().object,isUsernameRequired:b().bool,isPasswordRequired:b().bool});const ot=(0,S.Ng)(function(e){return{isUsernameRequired:e.prefs.isUsernameRequired,isPasswordRequired:e.prefs.isPasswordRequired}})(it),ct=function(e){var t=(0,a.useRef)(null),n=(0,S.d4)(function(e){return e.user}),r=(0,a.useState)(!1),s=(0,N.A)(r,2),i=s[0],o=s[1],c=(0,S.wA)(),l=(0,a.useCallback)(function(e){return o(e)},[]),u=(0,a.useCallback)(function(){return c((0,Je.ri)())},[c]),d=(0,a.useCallback)(function(e){if(!t.current.value.trim())return alert("Please enter your current password to make changes."),void t.current.focus();e.append("password",t.current.value),c((0,Je.z0)(e))},[c]);return a.createElement("div",{className:"AdPYAIbFPpGhbG80E9oa"},a.createElement("h1",{className:"LbIcdbrF5GE54rSrqL_I"},"My Account"),a.createElement("div",{className:"eWB988t3JuRQuM9e6O_N"},a.createElement("p",null,"Signed in as ",a.createElement("strong",null,n.username)),a.createElement(ot,{user:n,onDirtyChange:l,onSubmit:d},i&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("input",{type:"password",autoComplete:"current-password",placeholder:"current password",ref:t}),a.createElement("button",{className:"primary ".concat("Fj4oA4Er2_057Nqs3d_R")},"Update Account"))),a.createElement("button",{onClick:u,className:"lVRxnFYFCfHZHGIPV2QD"},"Sign Out")))};var lt=n(57146);var ut=function(e){return a.createElement("div",{className:"zXRZqy8GypIyzzonhQDj",onClick:e.onSelect},a.createElement("div",null,a.createElement(j.A,{icon:"FOLDER",size:28,className:"iWBd2Rn8EbpVZP3_NmrF"})),a.createElement("div",{className:"nn35PIgJyM8hd_PfVG9P"},e.path))};ut.propTypes={path:b().string.isRequired,onSelect:b().func};const dt=ut;var pt=new He.A("prefs/path"),mt=function(e){var t=e.onCancel,n=e.onChoose,r=e.isVisible,s=(0,a.useRef)(),i=(0,a.useState)({current:null,parent:null,children:[]}),o=(0,N.A)(i,2),c=o[0],l=o[1],u=(0,a.useCallback)(function(){n(c.current)},[n,c]),d=(0,a.useCallback)(function(e){pt("GET","/ls?dir=".concat(encodeURIComponent(e))).then(function(e){return l(e)}).catch(function(e){return alert(e)})},[]);return(0,a.useEffect)(function(){r&&d(c.current||".")},[r]),(0,a.useEffect)(function(){s.current&&(s.current.scrollTop=0)},[]),a.createElement(te,{isVisible:r,onClose:t,title:"Add Folder",style:{width:"100%",height:"100%"}},a.createElement("div",{className:"PCD9_JwmkY6aoE1S6ZP_"},a.createElement("div",{className:"zuvIYSwYXKYBkknUSBt0"},c.current||" "),a.createElement("div",{className:"Er04pbLH9MbYq06HYgN2",ref:s},!1!==c.parent&&a.createElement("strong",null,a.createElement(dt,{path:"..",onSelect:function(){return d(c.parent)}})),c.children.map(function(e,t){return a.createElement(dt,{key:t,path:e.label,onSelect:function(){return d(e.path)}})})),a.createElement("div",{style:{display:"flex"}},a.createElement("button",{className:"".concat("iMjsWmBEoY_an0jfzpzr"," primary"),onClick:u},"Add Folder"),a.createElement("button",{className:"k7DvjmmaDcQjq3A2XJBH",onClick:t},"Cancel"))))};mt.propTypes={isVisible:b().bool.isRequired,onChoose:b().func.isRequired,onCancel:b().func.isRequired};const ft=mt;var ht=function(e){var t=e.path,n=t.path,r=t.pathId;return a.createElement(lt.sx,{draggableId:"path-".concat(r),index:e.index},function(t,s){return a.createElement("div",(0,x.A)({className:"vfEtFMD1PnnZpL7KJi5i",key:r,ref:t.innerRef,style:t.draggableProps.style},t.draggableProps),a.createElement("div",t.dragHandleProps,a.createElement(j.A,{icon:"DRAG_INDICATOR",size:24,className:"cLbX8ACpwjrJHf1i33Kw"})),a.createElement("div",{className:"reQxnTVFy0pmOJ_OxHEW"},n),a.createElement("div",{"data-path-id":r,onClick:e.onRemove,className:"ZYVMDVEYbeodkfufIBsd"},a.createElement(j.A,{icon:"CLEAR",size:32})))})};ht.propTypes={index:b().number.isRequired,onRemove:b().func.isRequired,path:b().object.isRequired};const Et=ht,gt="H5t2XU3F3BFidL0_rXXf";var yt=new He.A("prefs/path");const vt=function(e){var t=(0,S.d4)(function(e){return e.prefs.paths}),n=(0,a.useState)(!1),r=(0,N.A)(n,2),s=r[0],i=r[1],o=(0,a.useState)(!1),c=(0,N.A)(o,2),l=c[0],u=c[1],d=(0,a.useState)(t.result),p=(0,N.A)(d,2),m=p[0],f=p[1],h=(0,a.useCallback)(function(){return i(function(e){return!e})},[]),E=(0,a.useCallback)(function(){return u(!1)},[]),g=(0,a.useCallback)(function(){return u(!0)},[]);(0,a.useEffect)(function(){f(t.result)},[t]);var y=(0,S.wA)(),v=(0,a.useCallback)(function(){return y((0,_.PA)())},[y]),R=(0,a.useCallback)(function(e){if(e.destination){var t=m.slice(),n=t.splice(e.source.index,1),r=(0,N.A)(n,1)[0];t.splice(e.destination.index,0,r),f(t),y((0,_.Ah)(t))}},[y,m]),A=(0,a.useCallback)(function(e){yt("POST","/?dir=".concat(encodeURIComponent(e))).then(function(e){y((0,_.gL)(e)),u(!1)}).catch(function(e){alert(e)})},[y]),b=(0,a.useCallback)(function(e){var n=t.entities[e.currentTarget.dataset.pathId],r=n.path,a=n.pathId;confirm("Remove folder from library?\n\n".concat(r))&&(f(m.filter(function(e){return e!==a})),yt("DELETE","/".concat(a)).then(function(e){y((0,_.gL)(e))}).catch(function(e){alert(e)}))},[y,t,m]);return a.createElement("div",{className:"iEi_d5e035onJ18oKA6M"},a.createElement("div",{className:"IkPiZ7oarPYasin3JcFC",onClick:h},a.createElement(j.A,{icon:"FOLDER_MUSIC",size:28,className:gt}),a.createElement("div",{className:"eabAFWz3ueFCR7MFdfnm"},"Media Folders"),a.createElement("div",null,a.createElement(j.A,{icon:s?"CHEVRON_DOWN":"CHEVRON_RIGHT",size:24,className:gt}))),a.createElement("div",{className:"eYUqAJLLPnFSGQfPrwJp",style:{display:s?"block":"none"}},0===t.result.length&&a.createElement("p",{style:{marginTop:0}},"Add a media folder to get started."),a.createElement(lt.JY,{onDragEnd:R},a.createElement(lt.gL,{droppableId:"droppable"},function(e,n){return a.createElement("div",(0,x.A)({ref:e.innerRef},e.droppableProps),m.map(function(e,n){return a.createElement(Et,{index:n,key:e,path:t.entities[e],onRemove:b})}),e.placeholder)})),a.createElement("div",{className:"COsFBSxrE3VeJHh23G5V"},a.createElement("button",{className:"primary",style:{flex:1,width:"auto"},onClick:g},"Add Folder"),t.result.length>0&&a.createElement("button",{style:{marginLeft:".5em",width:"auto"},onClick:v},"Refresh")),a.createElement(ft,{isVisible:l,onCancel:E,onChoose:A})))},Rt="UnrcebAVqtFDgRUJaDvI",At="DcoB_X01BJHjxrrNVD9d",bt=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,S.d4)(function(e){return e.prefs.isUsernameRequired}),o=(0,S.d4)(function(e){return e.prefs.isPasswordRequired}),c=(0,a.useCallback)(function(){s(!r)},[r]),l=(0,S.wA)(),u=(0,a.useCallback)(function(e){l((0,_.I8)(e.target.name,e.target.checked))},[l]);return a.createElement("div",{className:"mFo8oIzcs_lKz5j2kBhM"},a.createElement("div",{className:"Tulgjffs1IlZIh38nmwS",onClick:c},a.createElement(j.A,{icon:"ACCOUNT",size:28,className:At}),a.createElement("div",{className:"d22Dvh79wG0xHZRKxzX2"},"New Accounts"),a.createElement("div",null,a.createElement(j.A,{icon:r?"CHEVRON_DOWN":"CHEVRON_RIGHT",size:24,className:At}))),a.createElement("div",{className:Rt,style:{display:r?"block":"none"}},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:i,onChange:u,name:"isUsernameRequired"})," Require username or email address")),a.createElement("div",{className:Rt,style:{display:r?"block":"none"}},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:o,onChange:u,name:"isPasswordRequired"})," Require password (non-admins)")))},St="hE76lHI6zK5vyZqbFZPC",Ot=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,S.d4)(function(e){return e.prefs.isReplayGainEnabled}),o=(0,a.useCallback)(function(){s(!r)},[r]),c=(0,S.wA)(),l=(0,a.useCallback)(function(e){c((0,_.I8)(e.target.name,e.target.checked))},[c]);return a.createElement("div",{className:"rFRCbyZPT_PQc_wrBjwo"},a.createElement("div",{className:"iQsmu84S0UOMvskFslib",onClick:o},a.createElement(j.A,{icon:"TELEVISION_PLAY",size:28,className:St}),a.createElement("div",{className:"ug6Vnih76yOx9OR2lGmt"},"Player"),a.createElement("div",null,a.createElement(j.A,{icon:r?"CHEVRON_DOWN":"CHEVRON_RIGHT",size:24,className:St}))),a.createElement("div",{className:"EsTYWrxvRDwQ5bUKgop3",style:{display:r?"block":"none"}},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:i,onChange:l,name:"isReplayGainEnabled"})," ReplayGain (clip-safe)")))};var Ct=n(45458);const Nt={container:"QD__VSpauGA5A_gtTOaf",heading:"sJxMD1hfjKk1X0gnEJgY",title:"gKN_KtgJJQtfcOM2uTYL",content:"HOZ6hFf5wn40Y6xZyLBr",icon:"zGY7Z0bGJgjnfsz_vuuW",tip:"YORb6JA7UQlUEYcR_O6E",youtubeDlOptionsSection:"qS8hH7r_B4Tu3hihOw8D",optionsContainer:"jrOJOo_rO5oQESbfIbtD",addOptionButton:"sRjKujHuiDJGol7P21HA",addOptionForm:"vh44o7w3wUDHnsw_ZpLF",optionValue:"hWqTVGDrWGfC1YfBUpy3",testSuccess:"LekAlannYVuzHDDx40ju",testFailed:"k_uoK0DMGKDJA_CZADoW"};var Tt=new He.A("prefs");const wt=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,S.d4)(function(e){return e.prefs.isYouTubeEnabled}),o=(0,S.d4)(function(e){return e.prefs.isKaraokeGeneratorEnabled}),c=(0,S.d4)(function(e){return e.prefs.isConcurrentAlignmentEnabled}),l=(0,S.d4)(function(e){return e.prefs.spleeterPath}),u=(0,S.d4)(function(e){return e.prefs.autoLyrixHost}),d=(0,S.d4)(function(e){return e.prefs.ffmpegPath}),p=(0,S.d4)(function(e){return e.prefs.youtubeDlExecOptions}),m=(0,S.d4)(function(e){return e.prefs.tmpOutputPath}),f=(0,S.d4)(function(e){return e.prefs.upcomingLyricsColor}),h=(0,S.d4)(function(e){return e.prefs.playedLyricsColor}),E=(0,S.d4)(function(e){return e.prefs.maxYouTubeProcesses}),g=(0,a.useState)(!1),y=(0,N.A)(g,2),v=y[0],R=y[1],A=(0,a.useState)(null),b=(0,N.A)(A,2),O=b[0],C=b[1],T=(0,a.useState)(!1),w=(0,N.A)(T,2),I=w[0],k=w[1],P=(0,a.useState)(null),L=(0,N.A)(P,2),U=L[0],D=L[1],H=(0,a.useState)(!1),M=(0,N.A)(H,2),q=M[0],x=M[1],V=(0,a.useState)(null),z=(0,N.A)(V,2),B=z[0],G=z[1],F=(0,a.useState)(""),Y=(0,N.A)(F,2),W=Y[0],Q=Y[1],K=(0,a.useState)(""),Z=(0,N.A)(K,2),X=Z[0],J=Z[1],$=(0,a.useState)("string"),ee=(0,N.A)($,2),te=ee[0],ne=ee[1],re=(0,a.useState)(!1),ae=(0,N.A)(re,2),se=ae[0],ie=ae[1],oe=(0,a.useCallback)(function(){s(!r)},[r]),ce=(0,S.wA)(),le=(0,a.useCallback)(function(e){ce((0,_.I8)(e.target.name,e.target.checked))},[ce]),ue=(0,a.useCallback)(function(e){ce((0,_.I8)(e.target.name,e.target.value))},[ce]),de=(0,a.useCallback)(function(){if(W.trim()){var e=(0,Ct.A)(p),t={key:W.trim(),value:"boolean"===te?"true"===X:X};e.push(t),ce((0,_.I8)("youtubeDlExecOptions",e)),Q(""),J(""),ne("string"),ie(!1)}},[ce,W,X,te,p]),pe=(0,a.useCallback)(function(e){var t=p.filter(function(t,n){return n!==e});ce((0,_.I8)("youtubeDlExecOptions",t))},[ce,p]),me=(0,a.useCallback)(function(){Q(""),J(""),ne("string"),ie(!1)},[]),fe=(0,a.useCallback)(function(){ie(!0)},[]);return a.createElement("div",{className:Nt.container},a.createElement("div",{className:Nt.heading,onClick:oe},a.createElement(j.A,{icon:"YOUTUBE",size:28,className:Nt.icon}),a.createElement("div",{className:Nt.title},"YouTube"),a.createElement("div",null,a.createElement(j.A,{icon:r?"CHEVRON_DOWN":"CHEVRON_RIGHT",size:24,className:Nt.icon}))),a.createElement("div",{style:{display:r?"block":"none"}},a.createElement("div",{className:Nt.content},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:i,onChange:le,name:"isYouTubeEnabled"})," Enable YouTube search")),a.createElement("div",{className:Nt.content,style:{display:i?"block":"none"}},a.createElement("label",null,"Path to FFMPEG",a.createElement("input",{type:"text",defaultValue:d,onChange:ue,name:"ffmpegPath"}),a.createElement("div",{className:Nt.tip},"If ffmpeg is available in your global PATH, this can be left as-is. Otherwise, enter the full path to the ffmpeg executable.")),!q&&a.createElement("a",{onClick:function(){x(!0),G(null),Tt("GET","/testffmpeg").then(function(e){x(!1),G(e)}).catch(function(e){x(!1),G({success:!1,message:e.message})})}},"Test FFMPEG"),q&&a.createElement("div",null,"Testing FFMPEG..."),null!==B&&B.success&&a.createElement("div",{className:Nt.testSuccess},B.message),null!==B&&!B.success&&a.createElement("div",{className:Nt.testFailed},B.message)),a.createElement("div",{className:Nt.content,style:{display:i?"block":"none"}},a.createElement("label",null,"Youtube-dl-exec Options",a.createElement("div",{className:Nt.tip},"Pass additional options to youtube-dl-exec when downloading videos. Only string and boolean options are supported. These will then be passed to the yt-dlp command.",a.createElement("br",null),a.createElement("a",{href:"https://github.com/microlinkhq/youtube-dl-exec/tree/master?tab=readme-ov-file#usage",target:"_blank",rel:"noreferrer"},"More info"),".")),a.createElement("div",{className:Nt.youtubeDlOptionsSection},a.createElement("div",{className:Nt.optionsContainer},p.length>0&&a.createElement("ul",{className:Nt.optionsList},p.map(function(e,t){return a.createElement("li",{key:t,className:Nt.optionItem},a.createElement("code",null,e.key,": ","boolean"==typeof e.value?e.value.toString():e.value),a.createElement(j.A,{icon:"DELETE",size:18,className:Nt.icon,onClick:function(){return pe(t)},"aria-label":"Remove option"}))}))),!se&&a.createElement("div",{className:Nt.addOptionButtonContainer},a.createElement("button",{type:"button",onClick:fe,className:Nt.addOptionButton},"+ Add New Option")),se&&a.createElement("div",{className:Nt.addOptionForm},a.createElement("input",{type:"text",placeholder:"Option key",value:W,onChange:function(e){return Q(e.target.value)},className:Nt.optionInput}),a.createElement("select",{value:te,onChange:function(e){return ne(e.target.value)},className:Nt.optionTypeSelect},a.createElement("option",{value:"string"},"String"),a.createElement("option",{value:"boolean"},"Boolean")),"=","boolean"===te?a.createElement("select",{value:X,onChange:function(e){return J(e.target.value)},className:Nt.optionValue},a.createElement("option",{value:"true"},"true"),a.createElement("option",{value:"false"},"false")):a.createElement("input",{type:"text",placeholder:"Option value",value:X,onChange:function(e){return J(e.target.value)},className:Nt.optionValue}),a.createElement("div",{className:Nt.formButtons},a.createElement("button",{type:"button",onClick:de,className:Nt.addButton,disabled:!W.trim()},"Add"),a.createElement("button",{type:"button",onClick:me,className:Nt.cancelButton},"Cancel"))))),a.createElement("div",{className:Nt.content,style:{display:i?"block":"none"}},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:o,onChange:le,name:"isKaraokeGeneratorEnabled"})," Automatically create karaoke mixes",a.createElement("div",{className:Nt.tip},"If checked, users can search for anything on YouTube and we'll use spleeter and AutoLyrixAlignService to create a karaoke mix out of it. If unchecked, users can only search for pre-made karaoke songs on YouTube."))),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"Path to Spleeter",a.createElement("input",{type:"text",defaultValue:l,onChange:ue,name:"spleeterPath"}),a.createElement("div",{className:Nt.tip},"If spleeter is available in your global PATH, this can be left as-is. Otherwise, enter the full path to the spleeter executable.")),!v&&a.createElement("a",{onClick:function(){R(!0),C(null),Tt("GET","/testspleeter").then(function(e){R(!1),C(e)}).catch(function(e){R(!1),C({success:!1,message:e.message})})}},"Test Spleeter"),v&&a.createElement("div",null,"Testing Spleeter..."),null!==O&&O.success&&a.createElement("div",{className:Nt.testSuccess},O.message),null!==O&&!O.success&&a.createElement("div",{className:Nt.testFailed},O.message)),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"AutoLyrixAlign Service Host",a.createElement("input",{type:"text",defaultValue:u,onChange:ue,name:"autoLyrixHost"}),a.createElement("div",{className:Nt.tip},"The host and port where AutoLyrixAlign Service is listening. If installed locally, this will be localhost:3000.")),!I&&a.createElement("a",{onClick:function(){k(!0),D(null),Tt("GET","/testautolyrix").then(function(e){k(!1),D(e)}).catch(function(e){k(!1),D({success:!1,message:e.message})})}},"Test AutoLyrixAlign Service"),I&&a.createElement("div",null,"Testing AutoLyrixAlign Service..."),null!==U&&U.success&&a.createElement("div",{className:Nt.testSuccess},U.message),null!==U&&!U.success&&a.createElement("div",{className:Nt.testFailed},U.message)),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:c,onChange:le,name:"isConcurrentAlignmentEnabled"})," Align lyrics concurrently",a.createElement("div",{className:Nt.tip},"If checked, we'll run both spleeter and AutoLyricsAlign at the same time. This saves a lot of time, but might overwhelm your computer if AutoLyrixAlign Service is running locally. If AutoLyrixAlign Service is running on a different server, you should check this."))),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"Upcoming Lyrics Color",a.createElement("input",{type:"text",defaultValue:f,onChange:ue,name:"upcomingLyricsColor"}),a.createElement("div",{className:Nt.tip},"The color of lyrics that haven't been sang yet. Use any CSS color value."))),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"Played Lyrics Color",a.createElement("input",{type:"text",defaultValue:h,onChange:ue,name:"playedLyricsColor"}),a.createElement("div",{className:Nt.tip},"Lyrics will change to this color as they are sang. Use any CSS color value."))),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"Temporary output folder",a.createElement("input",{type:"text",defaultValue:m,onChange:ue,name:"tmpOutputPath"}),a.createElement("div",{className:Nt.tip},"This is where we'll store downloaded YouTube videos and cache vocal and instrumental tracks. Unless there's a permissions problem, this can be left as-is."))),a.createElement("div",{className:Nt.content,style:{display:o&&i?"block":"none"}},a.createElement("label",null,"Maximum processing threads",a.createElement("input",{type:"number",defaultValue:E,onChange:ue,name:"maxYouTubeProcesses"}),a.createElement("div",{className:Nt.tip},"Creating karaoke mixes is CPU intensive and can take several minutes per-song. To help keep things moving, you can process several songs at the same time. Try setting this to around half the number of cores your CPU has. If you notice any lagging while lots of songs are processing, try lowering this number. If you notice lots of songs are stuck processing for too long, try increasing this number. Note that AutoLyrixAlign Service also has its own additional concurrency setting.")))))},_t=function(e){return a.createElement("div",{className:"UpHxEb2QWaWp9rGss7Hw"},a.createElement("h1",{className:"DXs3pxIfjaqE0SeBpWKz"},"Preferences"),a.createElement("div",{className:"ew2x2VQFG7Hj_ltiyxbF"},a.createElement(vt,null),a.createElement(bt,null),a.createElement(wt,null),a.createElement(Ot,null)))};var It=n(76344);const kt={btn:"KPS_QjyNbNZvOcq4_1Pg",field:"B5kM8X2kOsyfaMqa0xWN"};var Pt=!1,Lt=function(e){var t=(0,a.useRef)(null),n=(0,S.wA)(),r=(0,a.useCallback)(function(r){r.preventDefault();var a=new FormData(t.current);a.set("status",a.get("status")?"open":"closed"),e.room?(Pt||a.delete("password"),n((0,It.xX)(e.room.roomId,a))):n((0,It.ab)(a))},[n,e.room]),s=(0,a.useCallback)(function(){confirm('Remove room "'.concat(e.room.name,'" and its queue?'))&&n((0,It.SV)(e.room.roomId))},[n,e.room]);return(0,a.useEffect)(function(){!1===e.isVisible&&(Pt=!1)},[e.isVisible]),a.createElement(te,{isVisible:e.isVisible,onClose:e.onClose,title:e.room?"Edit Room":"Create Room",style:{minWidth:"300px"}},a.createElement("form",{onSubmit:r,ref:t,className:kt.form},a.createElement("input",{type:"text",autoComplete:"off",autoFocus:void 0===e.room,className:kt.field,defaultValue:e.room?e.room.name:"",name:"name",placeholder:"room name"}),a.createElement("input",{type:"password",autoComplete:"new-password",className:kt.field,defaultValue:e.room&&e.room.hasPassword?"*".repeat(32):"",name:"password",onChange:function(){Pt=!0},placeholder:"room password (optional)"}),a.createElement("label",null,a.createElement("input",{type:"checkbox",defaultChecked:!e.room||"open"===e.room.status,name:"status"}),"Open"),a.createElement("br",null),a.createElement("br",null),a.createElement("button",{type:"submit",className:"".concat(kt.btn," primary")},e.room?"Update Room":"Create Room"),e.room&&a.createElement("button",{type:"button",onClick:s,className:kt.btn},"Remove Room"),a.createElement("button",{type:"button",onClick:e.onClose},"Cancel")))};Lt.propTypes={room:b().object,isVisible:b().bool.isRequired,onClose:b().func.isRequired};const Ut=Lt,Dt=(0,w.Mz)([function(e){return e.rooms.result},function(e){return e.rooms.entities},function(e){return e.rooms.filterStatus}],function(e,t,n){return{result:e.filter(function(e){return!1===n||t[e].status===n}),entities:t}}),Ht=function(e){var t=(0,a.useState)(null),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,S.d4)(function(e){return e.rooms}),o=i.isEditorOpen,c=i.filterStatus,l=(0,S.d4)(Dt),u=(0,S.wA)(),d=(0,a.useCallback)(function(){return u((0,It.$R)())},[u]),p=(0,a.useCallback)(function(e){"all"===e.target.value?u((0,It.Mv)(!1)):u((0,It.Mv)(e.target.value))},[u]),m=(0,a.useCallback)(function(e){return u(Be(parseInt(e.target.dataset.roomId,10)))},[u]),f=(0,a.useCallback)(function(e){s(l.entities[e.target.dataset.roomId]),u((0,It.v4)())},[u,l]);(0,a.useEffect)(function(){u((0,It.RM)())},[u]);var h=l.result.map(function(e){var t=l.entities[e];return a.createElement("tr",{key:e},a.createElement("td",null,a.createElement("a",{"data-room-id":e,onClick:f},t.name)),a.createElement("td",null,t.status,t.numUsers>0&&a.createElement(a.Fragment,null," ",a.createElement("a",{"data-room-id":e,onClick:m},"(",t.numUsers,")"))),a.createElement("td",null,pe(new Date(1e3*t.dateCreated))))});return a.createElement("div",{className:"ysLnY77UZ_c1_TfyXfgo"},a.createElement("div",{className:"hx1d5UAAVzr0KT0tBfNB"},a.createElement("h1",{className:"u57YoQwu4we4ucg5Z3JI"},"Rooms"),a.createElement("select",{onChange:p,value:!1===c?"all":c},a.createElement("option",{key:"all",value:"all"},"All"),a.createElement("option",{key:"open",value:"open"},"Open"),a.createElement("option",{key:"closed",value:"closed"},"Closed"))),a.createElement("div",{className:"OUzt44G4J9NqiXahGZNg"},a.createElement("table",{className:"HAVmLg8TCL18Jeiuo7fX"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Status"),a.createElement("th",null,"Created"))),a.createElement("tbody",null,h)),a.createElement("br",null),a.createElement("button",{onClick:f,className:"primary"},"Create Room"),a.createElement(Ut,{isVisible:o,onClose:d,room:r})))},Mt="GOcqON1ttKvLN26MFNIy";var qt=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,a.useCallback)(function(e){return s(e)},[]);(0,a.useEffect)(function(){!1===e.isVisible&&s(!1)},[e.isVisible]);var o=(0,S.wA)(),c=(0,a.useCallback)(function(t){e.user?o(function(e,t){return function(n,r){return n(function(e){return{type:Me.USERS_UPDATE,payload:e}}({userId:e,data:t})),xe("PUT","user/".concat(e),{body:t}).then(function(){n({type:Me.USERS_UPDATE+Me._SUCCESS}),n(Ve())}).catch(function(e){n(function(e){return{type:Me.USERS_UPDATE+Me._ERROR,error:e.message}}(e))})}}(e.user.userId,t)):o(function(e){return function(t,n){return t({type:Me.USERS_CREATE}),xe("POST","user",{body:e}).then(function(){t({type:Me.USERS_CREATE+Me._SUCCESS}),t(Ve())}).catch(function(e){t(function(e){return{type:Me.USERS_CREATE+Me._ERROR,error:e.message}}(e))})}}(t))},[o,e.user]),l=(0,a.useCallback)(function(){var t;confirm('Remove user "'.concat(e.user.username,'"?\n\nTheir history of queued songs will also be removed.'))&&o((t=e.user.userId,function(e,n){return e(function(e){return{type:Me.USERS_REMOVE,payload:{userId:e}}}(t)),xe("DELETE","user/".concat(t)).then(function(){e({type:Me.USERS_REMOVE+Me._SUCCESS}),e(Ve())}).catch(function(t){e(function(e){return{type:Me.USERS_REMOVE+Me._ERROR,error:e.message}}(t))})}))},[o,e.user]);return a.createElement(te,{isVisible:e.isVisible,onClose:e.onClose,title:e.user?e.user.username:"Create User",style:{minWidth:"300px"}},a.createElement(ot,{user:e.user,onDirtyChange:i,onSubmit:c,showRole:!0},a.createElement("br",null),!e.user&&a.createElement("button",{className:"".concat(Mt," primary")},"Create User"),e.user&&r&&a.createElement("button",{className:"".concat(Mt," primary")},"Update User")),e.user&&a.createElement("button",{onClick:l,className:Mt},"Remove User"),a.createElement("button",{onClick:e.onClose},"Cancel"))};qt.propTypes={user:b().object,isVisible:b().bool.isRequired,onClose:b().func.isRequired};const jt=qt,xt=(0,w.Mz)([function(e){return e.users.result},function(e){return e.users.entities},function(e){return e.users.filterOnline},function(e){return e.users.filterRoomId}],function(e,t,n,r){return n?e=e.filter(function(e){return t[e].rooms.length}):"number"==typeof r&&(e=e.filter(function(e){return t[e].rooms.includes(r)})),{result:e,entities:t}}),Vt=function(e){var t=(0,a.useState)(null),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,S.d4)(function(e){return e.user.userId}),o=(0,S.d4)(function(e){return e.users}),c=o.isEditorOpen,l=o.filterOnline,u=o.filterRoomId,d=(0,S.d4)(function(e){return e.rooms}),p=(0,S.d4)(xt),m=(0,S.wA)(),f=(0,a.useCallback)(function(){return m({type:Me.USERS_EDITOR_CLOSE})},[m]),h=(0,a.useCallback)(function(e){"all"===e.target.value?m(ze(!1)):"online"===e.target.value?m(ze(!0)):m(Be(parseInt(e.target.value,10)))},[m]),E=(0,a.useCallback)(function(e){s(p.entities[e.target.dataset.userId]),m({type:Me.USERS_EDITOR_OPEN})},[m,p]);(0,a.useEffect)(function(){m(Ve())},[m]);var g=p.result.map(function(e){var t=p.entities[e];return a.createElement("tr",{key:e},e===i&&a.createElement("td",null,a.createElement("strong",null,t.username)," (",t.name,")"),e!==i&&a.createElement("td",null,a.createElement("a",{"data-user-id":e,onClick:E},t.username)," (",t.name,")"),a.createElement("td",null,t.isAdmin?"admin":"standard"),a.createElement("td",null,pe(new Date(1e3*t.dateCreated))))}),y=d.result.filter(function(e){return!!d.entities[e].numUsers}).map(function(e){return a.createElement("option",{key:e,value:e},d.entities[e].name)});return a.createElement("div",{className:"ffaCMJ3wIqwLL6cRptTw"},a.createElement("div",{className:"tQTBvPKeFLjVpNbYouTj"},a.createElement("h1",{className:"bc5ncwHH9YJ23tSoHwjU"},"Users"),a.createElement("select",{onChange:h,value:l?"online":u||"all"},a.createElement("option",{key:"all",value:"all"},"All"),a.createElement("option",{key:"online",value:"online"},"Online"),a.createElement("optgroup",{label:"Online in..."},y))),a.createElement("div",{className:"qCcT2N3kiZaZB2i4v2gX"},a.createElement("table",{className:"dVtQTutpaei_Zk_0Dmhd"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Username"),a.createElement("th",null,"Role"),a.createElement("th",null,"Joined"))),a.createElement("tbody",null,g)),a.createElement("br",null),a.createElement("button",{onClick:E,className:"primary"},"Create User"),a.createElement(jt,{isVisible:c,onClose:f,user:r})))},zt=function(e){var t=(0,S.d4)(function(e){return e.user}).isAdmin,n=!!(0,S.d4)(function(e){return e.users}),r=(0,S.Pj)();return t&&!n&&(0,f.Mh)(r,{key:"users",reducer:Ye}),a.createElement(a.Fragment,null,t&&a.createElement(Ht,null),t&&a.createElement(Vt,null),t&&a.createElement(_t,null),a.createElement(ct,null),a.createElement(Xe,null))},Bt="_kg8JIOeafNciIqzc0kY";var Gt,Ft=function(e){var t=e.onSelectRef,n=e.onPasswordRef,r=(0,S.d4)(function(e){return e.rooms}),s=(0,a.useState)(""),i=(0,N.A)(s,2),o=i[0],c=i[1],l=(0,S.wA)(),u=(0,a.useCallback)(function(e){c(e.target.value)},[]),d=(0,a.useCallback)(function(e){t(e)},[t]),p=(0,a.useCallback)(function(e){Gt=e,n(e)},[n]);return(0,a.useEffect)(function(){return l((0,It.RM)())},[l]),(0,a.useEffect)(function(){1===r.result.length&&c(r.result[0])},[r]),(0,a.useEffect)(function(){r.result.length>1&&o&&r.entities[o].hasPassword&&Gt.focus()},[r,o]),a.createElement(a.Fragment,null,a.createElement("select",{value:o,onChange:u,ref:d,className:"".concat(Bt," ").concat("Gt1harUlpdZAYOWiLjgK")},a.createElement("option",{key:"choose",value:"",disabled:!0},"select room..."),r.result.map(function(e){return a.createElement("option",{key:e,value:e},r.entities[e].name)})),o&&r.entities[o].hasPassword&&a.createElement("input",{type:"password",autoComplete:"off",className:"".concat(Bt," ").concat(e.className),placeholder:"room password (required)",ref:p}))};Ft.propTypes={className:b().string,onSelectRef:b().func.isRequired,onPasswordRef:b().func.isRequired};const Yt=Ft;var Wt,Qt,Kt=function(e){var t=(0,S.d4)(function(e){return e.user}),n=(0,a.useCallback)(function(e){Wt=e},[]),r=(0,a.useCallback)(function(e){Qt=e},[]),s=(0,S.wA)(),i=(0,a.useCallback)(function(e){if(!Wt.value)return alert("Please select a room"),void Wt.focus();e.append("roomId",Wt.value),Qt&&e.append("roomPassword",Qt.value),s((0,Je._m)(e))},[s]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"f1EKGJojigwMU6SsYuZr"},a.createElement("h2",null,"Create Account"),a.createElement("span",null,a.createElement("a",{onClick:e.onToggle},"Already have an account?"))),a.createElement(ot,{user:t,onSubmit:i},a.createElement(Yt,{onSelectRef:n,onPasswordRef:r}),a.createElement("button",{className:"primary"},"Create Account")))};Kt.propTypes={onToggle:b().func.isRequired};const Zt=Kt,Xt=function(e){var t=(0,S.d4)(function(e){return e.user}),n=(0,S.wA)(),r=(0,a.useCallback)(function(e){n((0,Je._m)(e))},[n]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"Z00W8gVjj0IMplO_RP3Q"},a.createElement("h2",null,"Welcome"),a.createElement("p",null,"Create your ",a.createElement("b",null,"admin")," account to get started. All data is locally stored and never shared.")),a.createElement(ot,{user:t,onSubmit:r},a.createElement("button",{className:"primary"},"Create Account")))},Jt="GSpYmU6m4qxOLmgK4rX3";var $t,en,tn=function(e){var t=(0,S.d4)(function(e){return e.prefs.isPasswordRequired}),n=(0,a.useRef)(null),r=(0,a.useRef)(null),s=(0,a.useCallback)(function(e){$t=e},[]),i=(0,a.useCallback)(function(e){en=e},[]),o=(0,S.wA)(),c=(0,a.useCallback)(function(e){e.preventDefault(),o((0,Je.iD)({username:n.current.value.trim(),password:r.current.value,roomId:$t.value,roomPassword:en?en.value:void 0}))},[o]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"eWcvh3MX2knJm1d0CQWu"},a.createElement("h2",null,"Sign In"),a.createElement("span",null,a.createElement("a",{onClick:e.onToggle},"Don’t have an account?"))),a.createElement("form",{noValidate:!0},a.createElement("input",{type:"email",autoComplete:"username",autoFocus:!0,placeholder:"username or email",ref:n,className:Jt}),a.createElement("input",{type:"password",autoComplete:"current-password",placeholder:t?"password":"password (optional)",ref:r,className:Jt}),a.createElement(Yt,{onSelectRef:s,onPasswordRef:i}),a.createElement("button",{onClick:c,className:"primary"},"Sign In")))};tn.propTypes={onToggle:b().func.isRequired};const nn=tn,rn=function(e){var t=(0,a.useState)(!1),n=(0,N.A)(t,2),r=n[0],s=n[1],i=(0,a.useCallback)(function(){return s(function(e){return!e})},[]),o=(0,S.d4)(function(e){return!0===e.prefs.isFirstRun}),c=(0,S.d4)(function(e){return e.ui});return a.createElement("div",{className:"e3jR4OMsV_OIaaAci_hn",style:{maxWidth:Math.max(340,.66*c.contentWidth)}},a.createElement(Ze,{className:"kfaDc9tZA7V0rbLrrQxW"}),r&&a.createElement(Zt,{onToggle:i}),!o&&!r&&a.createElement(nn,{onToggle:i}),o&&a.createElement(Xt,null))};var an=function(e){(0,a.useLayoutEffect)(function(){return e.setHeader(null)});var t=(0,S.d4)(function(e){return null!==e.user.userId}),n=(0,S.d4)(function(e){return e.ui}),r=(0,S.wA)();return(0,a.useEffect)(function(){r((0,_.dJ)())},[r]),a.createElement("div",{className:"EPw4Q8pC4VCZu_ENeHOh",style:{paddingTop:n.headerHeight,paddingBottom:n.footerHeight,width:n.contentWidth,height:n.innerHeight}},t&&a.createElement(zt,null),!t&&a.createElement(rn,null))};an.propTypes={setHeader:b().func.isRequired};const sn=an;var on=n(54638);const cn="cwDhxOIVfzteFzlWeKwa",ln="Y7B1obsA9DO34NOCVSUZ cwDhxOIVfzteFzlWeKwa";function un(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(un=function(){return!!e})()}var dn=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,un()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"searchInput",a.createRef()),(0,r.A)(e,"state",{value:e.props.filterStr}),(0,r.A)(e,"handleChange",function(t){e.setState({value:t.target.value}),e.props.setFilterStr(t.target.value)}),(0,r.A)(e,"onKeyDown",function(e){if("Enter"===e.key){e.preventDefault(),e.stopPropagation();var t=document.getElementById("youtubeSearchButton");t&&t.click()}}),(0,r.A)(e,"handleMagnifierClick",function(){e.state.value.trim()?e.clearSearch():e.searchInput.current.focus()}),(0,r.A)(e,"clearSearch",function(){e.setState({value:""}),e.props.resetFilterStr()}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props,t=e.filterStr,n=e.filterStarred;return a.createElement("div",{className:"UIK2HEzG93kJrZg1zrOI"},a.createElement("div",{onClick:this.handleMagnifierClick,className:t?ln:cn},a.createElement(j.A,{icon:"MAGNIFIER",size:40})),a.createElement("input",{type:"search",className:"jvBgtBq5nhwhgFxDdohV",placeholder:"search",value:this.state.value,onChange:this.handleChange,onKeyDown:this.onKeyDown,ref:this.searchInput}),t&&a.createElement("div",{onClick:this.clearSearch,className:ln},a.createElement(j.A,{icon:"CLEAR",size:40})),a.createElement("div",{onClick:this.props.toggleFilterStarred,className:n?ln:cn},a.createElement(j.A,{icon:"STAR_FULL",size:44})))}}])}(a.Component);(0,r.A)(dn,"propTypes",{filterStr:b().string.isRequired,filterStarred:b().bool.isRequired,setFilterStr:b().func.isRequired,resetFilterStr:b().func.isRequired,toggleFilterStarred:b().func.isRequired});const pn=dn;var mn=n(28598),fn={setFilterStr:mn.yy,resetFilterStr:mn.lo,toggleFilterStarred:mn.Ic};const hn=(0,S.Ng)(function(e){return{filterStr:e.library.filterStr,filterStarred:e.library.filterStarred}},fn)(pn);var En=n(60088);function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vn=function(){return!!e})()}var Rn=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,vn()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"rowRenderer",function(t){var n=t.index,r=t.style;return 0===n||n===e.props.numRows+1?a.createElement("div",{key:0===n?"top":"bottom",style:r}):e.props.rowRenderer({index:--n,style:yn(yn({},r),{},{paddingRight:e.props.paddingRight})})}),(0,r.A)(e,"getItemSize",function(t){return 0===t?e.props.paddingTop:t===e.props.numRows+1?e.props.paddingBottom:(t--,e.props.rowHeight(t))}),(0,r.A)(e,"setRef",function(t){e.list=t}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this.list)}},{key:"render",value:function(){return a.createElement(En._m,{itemCount:this.props.numRows+2,itemSize:this.getItemSize,onScroll:this.props.onScroll,overscanCount:10,ref:this.setRef,className:"JoCtgfMdp4_LkFISBVdL",width:this.props.width,height:this.props.height},this.rowRenderer)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.paddingTop,r=t.paddingBottom;n===e.paddingTop&&r===e.paddingBottom||this.list.resetAfterIndex(0)}}])}(a.Component);(0,r.A)(Rn,"propTypes",{numRows:b().number.isRequired,onScroll:b().func,onRef:b().func,paddingTop:b().number.isRequired,paddingRight:b().number,paddingBottom:b().number.isRequired,rowRenderer:b().func.isRequired,rowHeight:b().func.isRequired,width:b().number.isRequired,height:b().number.isRequired});const An=Rn;function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bn=function(){return!!e})()}var Sn=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,bn()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"alphabet","#ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),(0,r.A)(e,"state",{isTouchCapable:!1,isTouching:!1,char:null,y:null}),(0,r.A)(e,"handleTouchStart",function(t){(0,h.Dx)(!0),e.setState({isTouchCapable:!0,isTouching:!0})}),(0,r.A)(e,"handleTouch",function(t){if(t.preventDefault(),"mousedown"!==t.type||!e.state.isTouchCapable){var n=t.targetTouches?t.targetTouches[0].clientY:t.clientY,r=e.alphabet[Math.floor((n-e.props.top)/e.props.height*e.alphabet.length)];e.setState({char:r,y:n-e.props.top}),r!==e.state.char&&void 0!==r&&e.props.onPick(r)}}),(0,r.A)(e,"handleTouchEnd",function(t){(0,h.Dx)(!1),e.setState({isTouching:!1,char:null})}),(0,r.A)(e,"handleRef",function(t){e.ref=t}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){return a.createElement("div",{className:"vN10Ra6WwFQwsoJD1_3H",style:{height:this.props.height,top:this.props.top},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouch,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleTouch,onMouseUp:this.handleTouchEnd,ref:this.handleRef},this.alphabet.map(function(e,t){return a.createElement("div",{key:e,style:{flex:"1 1 auto",minHeight:0}},e)}))}}])}(a.Component);Sn.propTypes={onPick:b().func.isRequired,height:b().number.isRequired,top:b().number.isRequired};const On=Sn;var Cn=n(23257),Nn=n.n(Cn);function Tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Tn=function(){return!!e})()}var wn=function(e){function t(){return(0,E.A)(this,t),e=this,n=t,r=arguments,n=(0,v.A)(n),(0,y.A)(e,Tn()?Reflect.construct(n,r||[],(0,v.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this,t=0,n=a.Children.map(this.props.children,function(n,r){if(a.isValidElement(n))return n.props["data-hide"]&&!e.props.isExpanded?a.cloneElement(n,{className:n.props.className+" IW53X1CCc5LsUP_viCWs"}):(t++,n)});return a.createElement("div",{className:"".concat("NLkRlVVNnuiKJMNOXMhe"," ").concat(this.props.className),style:{width:this.props.btnWidth*t}},n)}}])}(a.Component);(0,r.A)(wn,"propTypes",{btnWidth:b().number.isRequired,className:b().string,children:b().any,isExpanded:b().bool.isRequired});const _n=wn;var In=n(84144),kn=["children"],Pn=function(e){var t=e.children,n=(0,Pe.A)(e,kn),r=(0,In.useSwipeable)(n);return a.createElement("div",(0,x.A)({},r,{className:n.className,style:n.style}),t)};Pn.propTypes={children:b().any,className:b().string,style:b().object};const Ln=Pn;function Un(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Un=function(){return!!e})()}var Dn=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,Un()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{animate:!1}),(0,r.A)(e,"handleAnimationEnd",function(t){return e.setState({animate:!1})}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.toggle!==e.toggle&&this.setState({animate:!0})}},{key:"render",value:function(){var e=this;return this.state.animate?a.Children.map(this.props.children,function(t){return a.cloneElement(t,{className:t.props.className+" "+e.props.className,onAnimationEnd:e.handleAnimationEnd})}):this.props.children}}])}(a.Component);(0,r.A)(Dn,"propTypes",{toggle:b().bool.isRequired,className:b().string.isRequired,children:b().node});const Hn=Dn,Mn="DLgbTdB3hYU0zYVmvotm",qn="bfE_vcKGNAy6HuKrhsLQ";function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jn=function(){return!!e})()}var xn=!1,Vn=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,jn()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isExpanded:!1}),(0,r.A)(e,"handleSwipedLeft",function(t){var n=t.event;xn="mouseup"===n.type,e.setState({isExpanded:e.props.isAdmin})}),(0,r.A)(e,"handleSwipedRight",function(t){var n=t.event;xn="mouseup"===n.type,e.setState({isExpanded:!1})}),(0,r.A)(e,"handleClick",function(){xn?xn=!1:e.props.onSongQueue(e.props.songId)}),(0,r.A)(e,"handleStarClick",function(){return e.props.onSongStarClick(e.props.songId)}),(0,r.A)(e,"handleInfoClick",function(){return e.props.onSongInfo(e.props.songId)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props,t=this.state;return a.createElement(Ln,{onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight,preventDefaultTouchmoveEvent:!0,trackMouse:!0,style:{height:e.artist?60:44},className:e.isQueued?"zik5wR9zmSukEda8d8FN Hk5Oiz4LTn0TQU1HJ_4r":"Hk5Oiz4LTn0TQU1HJ_4r"},a.createElement(Hn,{toggle:e.isQueued,className:"q8d4R7JJbyKfMfb5qTtn"},a.createElement("div",{className:"hxXzgFhspryRgl6_AkmQ"},me(e.duration)),a.createElement("div",{onClick:this.handleClick,className:"z8K08MurHExDsFH50TjN"},a.createElement("div",{className:"oqSOn8U_QmqEzSvyfAw_"},a.createElement(Nn(),{autoEscape:!0,textToHighlight:e.title,searchWords:e.filterKeywords}),e.isAdmin&&e.numMedia>1&&a.createElement("i",null," (",e.numMedia,")"),e.artist&&a.createElement("div",{className:"INKd0vI4DamezRZUfFHO"},e.artist)))),a.createElement(_n,{btnWidth:50,isExpanded:t.isExpanded},a.createElement("div",{onClick:this.handleStarClick,className:"".concat(Mn," ").concat(qn)},a.createElement(Hn,{toggle:e.isStarred,className:"r4HcW54ut9T2YXA4ysAf"},a.createElement(j.A,{size:44,icon:"STAR_FULL",className:e.isStarred?"sITkO1nY1LgSZ74YOArz":qn})),a.createElement("div",{className:e.isStarred?"sF5sWiz0_6zeoGgwx9_r a2lTNMjjT5QzeuYbGeux":"a2lTNMjjT5QzeuYbGeux"},e.numStars?e.numStars:"")),a.createElement("div",{onClick:this.handleInfoClick,className:Mn,"data-hide":!0},a.createElement(j.A,{size:44,icon:"INFO_OUTLINE",className:"".concat(Mn," ").concat("IpLs3GshduGnVRAThUSV")}))))}}])}(a.Component);(0,r.A)(Vn,"propTypes",{songId:b().number.isRequired,artist:b().string,title:b().string.isRequired,duration:b().number.isRequired,style:b().object,onSongQueue:b().func.isRequired,onSongStarClick:b().func.isRequired,onSongInfo:b().func.isRequired,isQueued:b().bool.isRequired,isStarred:b().bool.isRequired,isAdmin:b().bool.isRequired,numStars:b().number.isRequired,numMedia:b().number.isRequired,filterKeywords:b().array.isRequired});const zn=Vn;var Bn=function(e){return e.songIds.map(function(t){return a.createElement(zn,(0,x.A)({},e.songs[t],{artist:e.showArtist?e.artists[e.songs[t].artistId].name:"",filterKeywords:e.filterKeywords,isQueued:e.queuedSongs.includes(t),isStarred:e.starredSongs.includes(t),isAdmin:e.isAdmin,key:t,numStars:e.starredSongCounts[t]||0,onSongQueue:e.queueSong,onSongStarClick:e.toggleSongStarred,onSongInfo:e.showSongInfo}))})};Bn.propTypes={artists:b().object.isRequired,filterKeywords:b().array.isRequired,queuedSongs:b().array.isRequired,showArtist:b().bool.isRequired,songs:b().object.isRequired,songIds:b().array.isRequired,starredSongs:b().array.isRequired,starredSongCounts:b().object.isRequired,queueSong:b().func.isRequired,showSongInfo:b().func.isRequired,toggleSongStarred:b().func.isRequired};const Gn=Bn;var Fn=n(18666),Yn=n(22632),Wn={queueSong:Fn.$1,showSongInfo:_e.XH,toggleSongStarred:Yn.D};const Qn=(0,S.Ng)(function(e,t){return{artists:e.artists.entities,isAdmin:e.user.isAdmin,songs:e.songs.entities,starredSongs:(0,c.wd)(e.userStars).starredSongs,starredSongCounts:e.starCounts.songs}},Wn)(Gn);function Kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kn=function(){return!!e})()}var Zn=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,Kn()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"handleArtistClick",function(){e.props.onArtistClick(e.props.artistId)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props,t=e.artistSongIds.some(function(t){return e.queuedSongs.includes(t)}),n=e.artistSongIds.some(function(t){return e.starredSongs.includes(t)});return a.createElement("div",{style:e.style},a.createElement("div",{onClick:this.handleArtistClick,className:e.isExpanded?"Oeq1kmzT_zA03h__nm96 ZQ1vJSuEzaXfK5U2mVy3":"ZQ1vJSuEzaXfK5U2mVy3"},a.createElement("div",{className:n?"Bc6UO2wMDwOUxrq1bAUP lLz_KOztRoFN8eQxqGc1":"lLz_KOztRoFN8eQxqGc1"},a.createElement(j.A,{icon:"FOLDER",size:44}),e.isExpanded&&a.createElement("div",{className:n?"qAmZbfGSZX2Xu4xgWagx EsKyaVkUOVjrQNBLIEEM":"EsKyaVkUOVjrQNBLIEEM"},a.createElement(j.A,{icon:"CHEVRON_DOWN",size:24})),!e.isExpanded&&a.createElement("div",{className:"b9LqH0GqWQ8WmCaa4ktx"},e.artistSongIds.length)),a.createElement(Hn,{toggle:t,className:"HZ0_7hegL7xDvnX1Vw9I"},a.createElement("div",{className:"".concat("Lo0KOIA2KNbjdkAzONWs"," ").concat(t?"MX_Porxug1vkdk_A2Vcz":"")},a.createElement(Nn(),{autoEscape:!0,textToHighlight:e.name,searchWords:e.filterKeywords})))),e.isExpanded&&a.createElement(Qn,{songIds:e.artistSongIds,showArtist:!1,filterKeywords:e.filterKeywords,queuedSongs:e.queuedSongs}))}}])}(a.Component);(0,r.A)(Zn,"propTypes",{artistId:b().number.isRequired,artistSongIds:b().array.isRequired,filterKeywords:b().array.isRequired,isExpanded:b().bool.isRequired,name:b().string.isRequired,numStars:b().number.isRequired,queuedSongs:b().array.isRequired,starredSongs:b().array.isRequired,style:b().object,onArtistClick:b().func.isRequired});const Xn=Zn;function Jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jn=function(){return!!e})()}var $n=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,Jn()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"rowRenderer",function(t){var n=t.index,r=t.style,s=e.props,i=s.artists,o=s.artistsResult,c=s.expandedArtists,l=i[o[n]];return a.createElement(Xn,{artistId:l.artistId,artistSongIds:l.songIds,filterKeywords:e.props.filterKeywords,isExpanded:c.includes(l.artistId),key:l.artistId,name:l.name,numStars:e.props.starredArtistCounts[l.artistId]||0,onArtistClick:e.props.toggleArtistExpanded,queuedSongs:e.props.queuedSongs,starredSongs:e.props.starredSongs,songs:e.props.songs,style:r})}),(0,r.A)(e,"rowHeight",function(t){var n=e.props.artistsResult[t],r=1;return e.props.expandedArtists.includes(n)&&(r+=e.props.artists[n].songIds.length),44*r}),(0,r.A)(e,"handleScroll",function(t){var n=t.scrollOffset;e.lastScrollTop=n}),(0,r.A)(e,"handleAlphaPick",function(t){var n=e.props.alphaPickerMap[t];void 0!==n&&e.list.scrollToItem(n>0?n-1:n,"start")}),(0,r.A)(e,"handleRef",function(t){e.list=t,e.list.scrollTo(e.props.scrollTop)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){return 0===this.props.artistsResult.length?null:a.createElement("div",null,a.createElement(An,{numRows:this.props.artistsResult.length,rowHeight:this.rowHeight,rowRenderer:this.rowRenderer,onScroll:this.handleScroll,onRef:this.handleRef,paddingTop:this.props.ui.headerHeight,paddingRight:30,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}),a.createElement(On,{onPick:this.handleAlphaPick,onTouch:this.handleAlphaTouch,height:this.props.ui.innerHeight-this.props.ui.headerHeight-this.props.ui.footerHeight,top:this.props.ui.headerHeight}))}},{key:"componentWillUnmount",value:function(){this.props.scrollArtists(this.lastScrollTop||this.props.scrollTop)}},{key:"componentDidUpdate",value:function(e){this.list&&this.list.resetAfterIndex(0)}}])}(a.Component);(0,r.A)($n,"propTypes",{alphaPickerMap:b().object.isRequired,artists:b().object.isRequired,artistsResult:b().array.isRequired,expandedArtists:b().array.isRequired,filterKeywords:b().array.isRequired,queuedSongs:b().array.isRequired,songs:b().object.isRequired,starredSongs:b().array.isRequired,starredArtistCounts:b().object.isRequired,scrollTop:b().number.isRequired,ui:b().object.isRequired,toggleArtistExpanded:b().func.isRequired,scrollArtists:b().func.isRequired});const er=$n,tr={artistsHeading:"FM0NON48tUGevc0Mocok",songsHeading:"CEmdQRH561N9ZZS2sElY",youtubeButtonContainer:"T3ci1u1eChnqINFH6sWF",youtubeButton:"u9y5bFybnSgiqJgBTFFv"},nr={container:"IcWIldAIjjfjMCA6KYBh",backdrop:"zKE2hVKQtzkgXRphZCZ4"};var rr=n(19997);const ar="EmjbLb9yc4HCrX0ku0dF";function sr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sr=function(){return!!e})()}var ir=!1,or=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,sr()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{}),(0,r.A)(e,"handleClick",function(){ir?ir=!1:e.props.onVideoTap(e.props.video)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props;return this.state,a.createElement("div",{onClick:this.handleClick,style:e.style,className:e.video.queued?"hCfDhumonEJMBtZlXT_a y1Mvdil6lnHJSldhzTvZ":"y1Mvdil6lnHJSldhzTvZ"},a.createElement("div",{className:"NkBW_IYwogXruhMmQOb1"},a.createElement("img",{src:e.video.thumbnail}),a.createElement("div",{className:"uipZNoVP7V03q85r48mg"},e.video.karaoke&&a.createElement(j.A,{icon:"MICROPHONE",size:35}),!e.video.karaoke&&a.createElement(j.A,{icon:"HOURGLASS",size:35})),a.createElement("div",{className:"PDvIgW9YcjKrnDU899IH"},e.video.duration)),a.createElement("div",{className:"KQucIOXpwraSMBDgay_w"},a.createElement("div",{className:"JjXQQRHCMBjYHBsZJQSV"},e.video.title,e.video.karaoke&&a.createElement("div",{className:ar},a.createElement(j.A,{icon:"MICROPHONE",size:12})," Pre-made karaoke mix"),!e.video.karaoke&&a.createElement("div",{className:ar},a.createElement(j.A,{icon:"HOURGLASS",size:12,className:"".concat("TIfYGl9d_lTvy7Voikbi")})," Ready in a few minutes"),e.video.channel&&a.createElement("div",{className:"Q2SeA22VuvVk0se3QFmY"},e.video.channel))))}}])}(a.Component);(0,r.A)(or,"YOUTUBE_ITEM_HEIGHT",70),(0,r.A)(or,"propTypes",{video:b().object.isRequired,style:b().object,onVideoTap:b().func});const cr=or,lr="DuQU5VwTMcmTCRTEcieB",ur="ar5SOR2b7uQjD7NnVGgG",dr="MR8X8a7Dr2Kt7a753y8M",pr="GfRhxJQDgD0ra02x2Dqw",mr="Bk7xooQKwqjv8d1jr7Ej",fr="D4BheEEx6Y7MyftCXMIU",hr="DnPIvxDZo0JRj0xdNpu6";function Er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Er=function(){return!!e})()}var gr=!1,yr=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,Er()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{}),(0,r.A)(e,"handleClick",function(){gr?gr=!1:e.props.onSongTap(e.props.song)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props;return this.state,a.createElement("div",{onClick:this.handleClick,style:e.style,className:"pnhOegsELQYj1niw6Vnk"},a.createElement("div",{className:"pdGieJ3tE4vtrdKcD2r3"},e.song.thumbnail&&a.createElement("img",{src:e.song.thumbnail})),a.createElement("div",{className:"WYsafzNL4SeWK7eIcDGj"},a.createElement("div",{className:"_RKpnCjX5Gldlck0BVmK"},e.song.title,e.song.artist&&a.createElement("div",{className:"IdX4XOfqhnnjlUjQ7PR2"},e.song.artist.name))))}}])}(a.Component);(0,r.A)(yr,"ITEM_HEIGHT",70),(0,r.A)(yr,"propTypes",{song:b().object.isRequired,style:b().object,onSongTap:b().func});const vr=yr;function Rr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Rr=function(){return!!e})()}var Ar=new He.A(""),br=function(e){function t(e){var n,s,i,o;return(0,E.A)(this,t),s=this,i=t,o=[e],i=(0,v.A)(i),n=(0,y.A)(s,Rr()?Reflect.construct(i,o||[],(0,v.A)(s).constructor):i.apply(s,o)),(0,r.A)(n,"performIdentification",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={video:n.props.video,songID:e};t&&(r.artist=n.state.artist,r.title=n.state.title),Ar("POST","youtubeidentify",{body:r}).then(function(t){n.setState({songs:t.songs,lyrics:t.lyrics,loading:!1,artist:t.artist,title:t.title}),e&&n.state.lyrics&&n.useLyrics()}).catch(function(){n.setState({loading:!1,error:!0,manual:!1,songs:[],artist:"",title:"",lyrics:""})})}),(0,r.A)(n,"useLyrics",function(){n.props.queueYoutubeVideo(n.props.video.id,n.props.video.thumbnail,n.props.video.url,function(e){for(var t=e.split(":"),n=0,r=1;t.length>0;)n+=r*parseInt(t.pop(),10),r*=60;return n}(n.props.video.duration),n.state.artist,n.state.title,n.state.lyrics,n.props.video.karaoke),n.setState({added:!0})}),(0,r.A)(n,"rowRenderer",function(e){var t=e.index,r=e.style,s=n.state.songs;return a.createElement(vr,{key:s[t].id,song:s[t],style:r,onSongTap:n.useSong})}),(0,r.A)(n,"done",function(){n.props.onQueued()}),(0,r.A)(n,"useSong",function(e){n.setState({loading:!0,error:!1,manual:!1,songs:[],lyrics:""}),n.performIdentification(e.id)}),(0,r.A)(n,"retry",function(){n.setState({loading:!0,error:!1,manual:!1,songs:[],lyrics:""}),n.performIdentification()}),(0,r.A)(n,"enterArtistAndTitle",function(){n.setState({loading:!1,error:!1,manual:!1,songs:[],lyrics:""})}),(0,r.A)(n,"enterManually",function(){n.setState({loading:!1,error:!1,manual:!0,songs:[]}),n.performIdentification()}),n.state={loading:!0,error:!1,manual:!1,added:!1,songs:[],artist:"",title:"",lyrics:""},n.handleArtistChange=n.handleArtistChange.bind(n),n.handleTitleChange=n.handleTitleChange.bind(n),n.handleLyricsChange=n.handleLyricsChange.bind(n),n}return(0,R.A)(t,e),(0,g.A)(t,[{key:"handleArtistChange",value:function(e){this.setState({artist:e.target.value})}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleLyricsChange",value:function(e){this.setState({lyrics:e.target.value})}},{key:"componentDidMount",value:function(){this.performIdentification(null,!1)}},{key:"render",value:function(){return this.state.loading?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement(rr.A,{text:"IDENTIFYING SONG",className:"rTfe1PZTpRDj0CRxMMcQ"})):this.state.error?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:"XUT8uQnpNcvlMcnOTCNX"},"The server had a hickup :("),a.createElement("label",{className:fr},a.createElement("button",{onClick:this.retry,className:"".concat(pr," primary")},"Try Again"))):this.state.added?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:dr},this.props.video.karaoke&&a.createElement(a.Fragment,null,a.createElement("strong",null,'"',this.state.title,'"')," by ",a.createElement("strong",null,this.state.artist)," has been added! Feel free to add more songs while we download the video."),!this.props.video.karaoke&&a.createElement(a.Fragment,null,a.createElement("strong",null,'"',this.state.title,'"')," by ",a.createElement("strong",null,this.state.artist)," has been added! Feel free to add more songs while our robots generate a karaoke mix 🤖")),a.createElement("label",{className:fr},a.createElement("button",{onClick:this.done,className:"".concat(pr," primary")},"Nice!"))):this.state.manual?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:ur},"Enter the song's lyrics below so we can make a karaoke mix. Maybe Google and copy/paste them?"),a.createElement("label",{className:fr},"Artist",a.createElement("input",{type:"text",className:hr,placeholder:"Artist",value:this.state.artist,onChange:this.handleArtistChange})),a.createElement("label",{className:fr},"Song",a.createElement("input",{type:"text",className:hr,placeholder:"Song Title",value:this.state.title,onChange:this.handleTitleChange})),a.createElement("label",{className:fr},"Lyrics",a.createElement("textarea",{style:{height:this.props.ui.innerHeight-550,minHeight:50},className:hr,placeholder:"Paste lyrics here",value:this.state.lyrics,onChange:this.handleLyricsChange})),a.createElement("label",{className:fr},a.createElement("button",{onClick:this.useLyrics,className:"".concat(pr," primary")},this.state.lyrics&&"Use These Lyrics",!this.state.lyrics&&"I'm good without any lyrics"))):this.props.video.karaoke?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:ur},a.createElement("strong",null,"Nice!")," This looks like a pre-made karaoke mix, which will take just a few seconds to prepare. Feel free to correct the artist and title below..."),a.createElement("label",{className:fr},"Artist",a.createElement("input",{type:"text",className:hr,placeholder:"Artist",value:this.state.artist,onChange:this.handleArtistChange})),a.createElement("label",{className:fr},"Song",a.createElement("input",{type:"text",className:hr,placeholder:"Song Title",value:this.state.title,onChange:this.handleTitleChange})),a.createElement("label",{className:fr,style:{paddingTop:15}},a.createElement("button",{onClick:this.useLyrics,className:"".concat(pr," primary")},"Add This Song!")),a.createElement("label",{className:fr,style:{paddingTop:5}},a.createElement("button",{onClick:this.props.onCancel,className:"".concat(mr," primary")},"Back to Search Results"))):0===this.state.songs.length?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:ur},a.createElement("strong",null,"Help!")," Enter the correct artist and song title to help us find this song."),a.createElement("label",{className:fr},"Artist",a.createElement("input",{type:"text",className:hr,placeholder:"Artist",value:this.state.artist,onChange:this.handleArtistChange})),a.createElement("label",{className:fr},"Song",a.createElement("input",{type:"text",className:hr,placeholder:"Song Title",value:this.state.title,onChange:this.handleTitleChange})),a.createElement("label",{className:fr,style:{paddingTop:15}},a.createElement("button",{onClick:this.retry,className:"".concat(pr," primary")},"Try Again")),a.createElement("label",{className:fr,style:{paddingTop:5}},a.createElement("button",{onClick:this.enterManually,className:"".concat(mr," primary")},"Let me enter lyrics myself")),a.createElement("label",{className:fr,style:{paddingTop:5}},a.createElement("button",{onClick:this.props.onCancel,className:"".concat(mr," primary")},"Back to Search Results"))):1===this.state.songs.length?this.state.lyrics?a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:dr},"We think this is ",a.createElement("strong",null,'"',this.state.title,'"')," by ",a.createElement("strong",null,this.state.artist),", and it goes like this..."),a.createElement("label",{className:fr},a.createElement("pre",{className:"_9HL6sDZA8m9AOhevCHJ",style:{height:this.props.ui.innerHeight-450}},this.state.lyrics)),a.createElement("label",{className:fr,style:{paddingTop:15}},a.createElement("button",{onClick:this.useLyrics,className:"".concat(pr," primary")},"That's it!")),a.createElement("label",{className:fr,style:{paddingTop:5}},a.createElement("button",{onClick:this.enterArtistAndTitle,className:"".concat(mr," primary")},"No, that doesn't look right"))):a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:ur},"We found ",a.createElement("strong",null,'"',this.state.title,'"')," by ",a.createElement("strong",null,this.state.artist),", but we couldn't find the lyrics. Can you help? Maybe Google and copy/paste them?"),a.createElement("label",{className:fr},"Lyrics",a.createElement("textarea",{style:{height:this.props.ui.innerHeight-500,minHeight:50},className:hr,placeholder:"Paste lyrics here",value:this.state.lyrics,onChange:this.handleLyricsChange})),a.createElement("label",{className:fr},a.createElement("button",{onClick:this.useLyrics,className:"".concat(pr," primary")},this.state.lyrics&&"Use These Lyrics",!this.state.lyrics&&"I'm good without any lyrics")),a.createElement("label",{className:fr,style:{paddingTop:5}},a.createElement("button",{onClick:this.enterArtistAndTitle,className:"".concat(mr," primary")},"Try a different artist/title"))):a.createElement("div",{className:lr,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",{className:ur},"We found lots of matches! Which song is this?"),a.createElement(An,{numRows:this.state.songs.length,rowHeight:function(){return vr.ITEM_HEIGHT},rowRenderer:this.rowRenderer,paddingTop:0,paddingRight:4,paddingBottom:0,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight-300}),a.createElement("label",{className:fr,style:{paddingTop:15}},a.createElement("button",{onClick:this.enterArtistAndTitle,className:"".concat(mr," primary")},"None of these look right")))}}])}(a.Component);(0,r.A)(br,"propTypes",{query:b().string.isRequired,video:b().object.isRequired,ui:b().object.isRequired,onQueued:b().func.isRequired,onCancel:b().func.isRequired,queueYoutubeVideo:b().func});const Sr=br;var Or={queueYoutubeVideo:Fn.k1};const Cr=(0,S.Ng)(null,Or)(Sr);function Nr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Nr=function(){return!!e})()}var Tr=new He.A(""),wr=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,Nr()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"state",{loading:!0,identifying:null,error:!1,videos:[]}),(0,r.A)(e,"performSearch",function(){Tr("POST","youtubesearch",{body:e.props.filterKeywords.join(" ")}).then(function(t){e.setState({videos:t,loading:!1})}).catch(function(){e.setState({error:!0,loading:!1})})}),(0,r.A)(e,"rowRenderer",function(t){var n=t.index,r=t.style,s=e.state.videos;return a.createElement(cr,{key:s[n].id.videoId,video:s[n],style:r,onVideoTap:e.identifyYoutubeVideo})}),(0,r.A)(e,"identifyCancelled",function(){e.setState({identifying:null})}),(0,r.A)(e,"videoQueued",function(){e.props.onDone()}),(0,r.A)(e,"identifyYoutubeVideo",function(t){e.setState({error:!1,loading:!1,identifying:t})}),(0,r.A)(e,"retry",function(){e.setState({error:!1,loading:!0,identifying:null,videos:[]}),e.performSearch()}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidMount",value:function(){this.performSearch()}},{key:"render",value:function(){return this.state.loading?a.createElement("div",{className:nr.container,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement(rr.A,{text:"SEARCHING YOUTUBE",className:nr.backdrop})):this.state.error||!this.state.videos?a.createElement("div",{className:nr.container,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",null,"We had a problem searching YouTube :("),a.createElement("div",{style:{paddingTop:30}},a.createElement("button",{onClick:this.retry,className:"".concat(nr.btn," primary")},"Try Again"))):0===this.state.videos.length?a.createElement("div",{className:nr.container,style:{paddingTop:this.props.ui.headerHeight,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight}},a.createElement("div",null,"We found nothin'")):null!==this.state.identifying?a.createElement(Cr,{ui:this.props.ui,video:this.state.identifying,query:this.props.filterKeywords.join(" "),onQueued:this.videoQueued,onCancel:this.identifyCancelled}):a.createElement(An,{numRows:this.state.videos.length,rowHeight:function(){return cr.YOUTUBE_ITEM_HEIGHT},rowRenderer:this.rowRenderer,paddingTop:this.props.ui.headerHeight,paddingRight:4,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight})}}])}(a.Component);(0,r.A)(wr,"propTypes",{filterKeywords:b().array.isRequired,ui:b().object.isRequired,onDone:b().func.isRequired});const _r=wr;function Ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ir=function(){return!!e})()}var kr=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,Ir()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"state",{searchingYouTube:!1}),(0,r.A)(e,"rowRenderer",function(t){var n=t.index,r=t.style,s=e.props,i=s.artistsResult,o=s.songsResult,c=s.filterStarred,l=s.songs,u=0===Object.keys(l).length;if(e.props.isYouTubeEnabled){if(0===n)return a.createElement("div",{style:r,className:tr.youtubeButtonContainer},a.createElement("button",{id:u?"youtubeSearchButton":"",onClick:e.searchYouTube,className:"".concat(tr.btn," primary ").concat(tr.youtubeButton)},"Search YouTube for ",a.createElement("strong",null,e.props.filterKeywords.join(" "))));if(u)return a.createElement("div",null)}else n++;if(1===n)return a.createElement("div",{key:"artistsHeading",style:r,className:tr.artistsHeading},i.length," ",c?"starred ":"",1===i.length?"artist":"artists");if(n>1&&n<i.length+2){var d=i[n-2],p=e.props.artists[d];return a.createElement(Xn,{artistId:d,songs:e.props.songs,name:p.name,numStars:e.props.starredArtistCounts[d]||0,artistSongIds:p.songIds,queuedSongs:e.props.queuedSongs,starredSongs:e.props.starredSongs,isExpanded:e.props.expandedArtistResults.includes(d),filterKeywords:e.props.filterKeywords,onArtistClick:e.props.toggleArtistResultExpanded,key:d,style:r})}return n===i.length+2?a.createElement("div",{key:"songsHeading",style:r,className:tr.songsHeading},o.length," ",c?"starred ":"",1===o.length?"song":"songs"):a.createElement("div",{style:r,key:"songs"},a.createElement(Qn,{songIds:o,showArtist:!0,filterKeywords:e.props.filterKeywords,queuedSongs:e.props.queuedSongs}))}),(0,r.A)(e,"rowHeight",function(t){if(e.props.isYouTubeEnabled){if(0===t)return 90}else t++;if(1===t)return 22;if(t>1&&t<e.props.artistsResult.length+2){var n=1,r=e.props.artistsResult[t-2];return e.props.expandedArtistResults.includes(r)&&(n+=e.props.artists[r].songIds.length),44*n}return t===e.props.artistsResult.length+2?22:60*e.props.songsResult.length}),(0,r.A)(e,"searchYouTube",function(){e.setState({searchingYouTube:!0})}),(0,r.A)(e,"cancelSearchYouTube",function(){e.setState({searchingYouTube:!1})}),(0,r.A)(e,"setRef",function(t){e.list=t}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidUpdate",value:function(e){this.list&&!this.state.searchingYouTube&&this.list.resetAfterIndex(0),this.state.searchingYouTube&&e.filterKeywords!==this.props.filterKeywords&&this.setState({searchingYouTube:!1})}},{key:"render",value:function(){return this.state.searchingYouTube?a.createElement(_r,{onDone:this.cancelSearchYouTube,filterKeywords:this.props.filterKeywords,ui:this.props.ui}):a.createElement(An,{numRows:this.props.artistsResult.length+3+1*this.props.isYouTubeEnabled,rowHeight:this.rowHeight,rowRenderer:this.rowRenderer,paddingTop:this.props.ui.headerHeight,paddingRight:4,paddingBottom:this.props.ui.footerHeight,width:this.props.ui.innerWidth,height:this.props.ui.innerHeight,onRef:this.setRef})}}])}(a.Component);(0,r.A)(kr,"propTypes",{artists:b().object.isRequired,artistsResult:b().array.isRequired,expandedArtistResults:b().array.isRequired,filterKeywords:b().array.isRequired,filterStarred:b().bool.isRequired,queuedSongs:b().array.isRequired,songs:b().object.isRequired,songsResult:b().array.isRequired,starredSongs:b().array.isRequired,starredArtistCounts:b().object.isRequired,ui:b().object.isRequired,toggleArtistResultExpanded:b().func.isRequired,isYouTubeEnabled:b().bool});const Pr=(0,S.Ng)(function(e){return{isYouTubeEnabled:e.prefs.isYouTubeEnabled}})(kr);var Lr=function(e){return a.createElement("div",{className:"l_cLCw9eRNCSyRKgXWS5"},a.createElement("div",{className:"".concat("Fog7IKmx1oVfPd8FU407"," ").concat(e.className)},e.children))};const Ur=Lr;Lr.propTypes={children:b().node.isRequired,className:b().string};const Dr=Ur,Hr="dTWtSURLdyh9OV1LTnaC",Mr=function(){return a.createElement("div",{className:"Cy2j9ZX2IZrQWobGUi7X"},a.createElement("div",{className:Hr}),a.createElement("div",{className:"".concat(Hr," ").concat("L3qh5gTBMbZXjFIzwmUI")}),a.createElement("div",{className:"".concat(Hr," ").concat("f7Ry7aQoljxI7zOj18tU")}),a.createElement("div",{className:"".concat(Hr," ").concat("jZojmB6JI3Y1bkX6XnDI")}),a.createElement("div",{className:"".concat(Hr," ").concat("EcvP0cnG_tPw2rSbAdHh")}))},qr="bhZWQ2xPWPTNIX6C4F3a";var jr=function(e){var t=e.isAdmin,n=e.isEmpty,r=e.isLoading,s=e.isSearching,i=(0,S.d4)(function(e){return e.prefs.isYouTubeEnabled}),o=(0,S.d4)(function(e){return e.prefs.isKaraokeGeneratorEnabled});return a.useLayoutEffect(function(){return e.setHeader(hn)}),a.createElement(a.Fragment,null,!s&&a.createElement(er,e),s&&a.createElement(Pr,e),r&&a.createElement(Mr,null),!r&&n&&!s&&i&&a.createElement(Dr,{className:qr},a.createElement("h1",null,"Search YouTube!"),a.createElement("p",null,"Enter a song and/or artist in the search bar above.",o&&a.createElement(a.Fragment,null," Our robots will convert music videos to karaoke mixes!"),!o&&a.createElement(a.Fragment,null," We'll find pre-made karaoke mixes for you!"))),!r&&n&&!i&&a.createElement(Dr,{className:qr},a.createElement("h1",null,"Library Empty"),t&&a.createElement("p",null,a.createElement(K.N_,{to:"/account"},"Add media folders"),a.createElement(a.Fragment,null," or ",a.createElement(K.N_,{to:"/account"},"enable YouTube search")),a.createElement(a.Fragment,null," to get started."))))};jr.propTypes={isAdmin:b().bool.isRequired,isLoading:b().bool.isRequired,isSearching:b().bool.isRequired,isEmpty:b().bool.isRequired,setHeader:b().func.isRequired};const xr=jr;var Vr=function(e){return e.artists},zr=function(e){return e.songs},Br=function(e){return e.library.filterStr.trim().toLowerCase()},Gr=function(e){return e.library.filterStarred},Fr=function(e){return(0,c.wd)(e.userStars).starredSongs},Yr=(0,w.Mz)([function(e){return(0,c.wd)(e.queue)},function(e){return e.status.queueId},function(e){return e.status.historyJSON}],function(e,t,n){return n=JSON.parse(n),e.result.filter(function(e){return!n.includes(e)}).map(function(t){return e.entities[t].songId})}),Wr=(0,w.Mz)([Br],function(e){return e.length?e.split(" "):[]}),Qr=(0,w.Mz)([Vr],function(e){var t={"#":0},n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=0;return e.result.forEach(function(a,s){var i=e.entities[a].name[0].toUpperCase(),o=n.indexOf(i)-r;o>=0&&(t[n[r+=o]]=s,r++)}),t}),Kr=(0,w.Mz)([Vr],function(e){return new on.W5(e.result,{keySelector:function(t){return e.entities[t].name},threshold:.8})}),Zr=(0,w.Mz)([zr],function(e){return new on.W5(e.result,{keySelector:function(t){return e.entities[t].title},threshold:.8})}),Xr=(0,w.Mz)([Vr,Br,Kr],function(e,t,n){return t?n.search(t,{returnMatchData:!0}).map(function(e){return e.item}):e.result}),Jr=(0,w.Mz)([zr,Br,Zr],function(e,t,n){return t?n.search(t,{returnMatchData:!0}).map(function(e){return e.item}):e.result}),$r=(0,w.Mz)([Xr,Gr,function(e){return(0,c.wd)(e.userStars).starredArtists}],function(e,t,n){return e.filter(function(e){return!t||n.includes(e)})}),ea=(0,w.Mz)([Jr,Gr,Fr],function(e,t,n){return e.filter(function(e){return!t||n.includes(e)})}),ta={toggleArtistExpanded:mn.RH,toggleArtistResultExpanded:mn.wk,scrollArtists:mn.AR,showSongInfo:_e.XH,closeSongInfo:_e.ks};const na=(0,S.Ng)(function(e){return{artists:e.artists.entities,songs:e.songs.entities,starredArtistCounts:e.starCounts.artists,queuedSongs:Yr(e),starredSongs:Fr(e),expandedArtists:e.library.expandedArtists,alphaPickerMap:Qr(e),scrollTop:e.library.scrollTop,isAdmin:e.user.isAdmin,isSearching:!!Wr(e).length||Gr(e),isLoading:e.library.isLoading,isEmpty:0===e.songs.result.length,ui:e.ui,songsResult:ea(e),artistsResult:$r(e),filterKeywords:Wr(e),filterStarred:Gr(e),expandedArtistResults:e.library.expandedArtistResults}},ta)(xr);var ra=n(6868);const aa="umnUSnD73DO3rWOYPZ9K",sa="_LtmdT6l38fSEjxPLZod",ia="ipO9CAddWNfj0FeLnSlg",oa="YmwxQ7Vy9kTAPCo00I2U",ca="tX8eNQUgD77rREuwXWHO";function la(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(la=function(){return!!e})()}var ua=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,la()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isExpanded:!1}),(0,r.A)(e,"handleSwipedLeft",function(t){t.event;var n=e.props,r=n.isErrored,a=n.isInfoable,s=n.isRemovable,i=n.isSkippable;e.setState({isExpanded:r||a||s||i})}),(0,r.A)(e,"handleSwipedRight",function(t){t.event,e.setState({isExpanded:!1})}),(0,r.A)(e,"handleStarClick",function(){return e.props.onStarClick(e.props.songId)}),(0,r.A)(e,"handleInfoClick",function(){return e.props.onInfoClick(e.props.songId)}),(0,r.A)(e,"handleRemoveClick",function(){return e.props.onRemoveClick(e.props.queueId)}),(0,r.A)(e,"handleErrorInfoClick",function(){return e.props.onErrorInfoClick(e.props.errorMessage)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props,t=this.state;return a.createElement(Ln,{onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight,preventDefaultTouchmoveEvent:!0,trackMouse:!0,style:{backgroundSize:(e.isCurrent&&e.pctPlayed<2?2:e.pctPlayed)+"% 100%"},className:"wmZzvQLV8SUXBxloByaI"},a.createElement("div",{className:"OcXId78BLaxBJIqdYIof"},a.createElement("div",{className:"".concat("GacRKdveAPO6_ywV1_ca"," ").concat(e.isPlayed?aa:"")},a.createElement(ra.A,{userId:e.userId,dateUpdated:e.dateUpdated,height:72,className:"RGd3UJAFUhL9NuucNZat"}),a.createElement("div",{className:"ctOyiO7TWxvaj2cMva6s"},e.isUpcoming&&a.createElement("div",{className:"".concat("pCDYhCexaZe_zujCsnng"," ").concat(e.isOwner?sa:"")},e.wait))),a.createElement("div",{className:"".concat("nDkBZyovKLxzMG7K_3Tg"," ").concat(e.isPlayed?aa:"")},a.createElement("div",{className:"Wj7Me9sY8G3TTqTAeAaj"},a.createElement("div",{className:"oyozFDwcV8GMOumLs906 VVVypNxrRbHxoVVWCt7a"},e.title),a.createElement("div",{className:"PyOIw1JanvSSiLfkRkZt VVVypNxrRbHxoVVWCt7a"},e.artist)),a.createElement("div",{className:"".concat("HEBTYqqhv5BzgHhWH7vd"," ").concat(e.isOwner?sa:"")},e.userDisplayName)),a.createElement(_n,{btnWidth:50,isExpanded:t.isExpanded},e.isErrored&&a.createElement("div",{onClick:this.handleErrorInfoClick,className:"".concat(ia," ").concat(ca)},a.createElement(j.A,{icon:"INFO_OUTLINE",size:44})),a.createElement("div",{onClick:this.handleStarClick,className:"".concat(ia," ").concat(e.isStarred?oa:"")},a.createElement(Hn,{toggle:e.isStarred,className:"ZRVZZ_1kYEKO36fznW79"},a.createElement(j.A,{size:44,icon:"STAR_FULL"}))),e.isInfoable&&a.createElement("div",{onClick:this.handleInfoClick,className:"".concat(ia," ").concat(oa),"data-hide":!0},a.createElement(j.A,{icon:"INFO_OUTLINE",size:44})),e.isRemovable&&a.createElement("div",{onClick:this.handleRemoveClick,className:"".concat(ia," ").concat(ca),"data-hide":!0},a.createElement(j.A,{icon:"CLEAR",size:44})),e.isSkippable&&a.createElement("div",{onClick:e.onSkipClick,className:"".concat(ia," ").concat(ca),"data-hide":!0},a.createElement(j.A,{icon:"PLAY_NEXT",size:44})))))}}])}(a.Component);(0,r.A)(ua,"propTypes",{artist:b().string.isRequired,dateUpdated:b().number.isRequired,errorMessage:b().string.isRequired,isCurrent:b().bool.isRequired,isErrored:b().bool.isRequired,isInfoable:b().bool.isRequired,isOwner:b().bool.isRequired,isPlayed:b().bool.isRequired,isRemovable:b().bool.isRequired,isSkippable:b().bool.isRequired,isStarred:b().bool.isRequired,isUpcoming:b().bool.isRequired,pctPlayed:b().number.isRequired,queueId:b().number.isRequired,songId:b().number.isRequired,title:b().string.isRequired,userId:b().number.isRequired,userDisplayName:b().string.isRequired,wait:b().string,onErrorInfoClick:b().func.isRequired,onRemoveClick:b().func.isRequired,onSkipClick:b().func.isRequired,onInfoClick:b().func.isRequired,onStarClick:b().func.isRequired});const da=ua,pa="aJQ1KYxLCmAL7DPuh4V3",ma="TBUs9Fuf8YCBXxS0Bq3l",fa="BA60HoW87yI1RpGzuPRg",ha="pwYwZZXkWtj0w1l4eeok";function Ea(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ea=function(){return!!e})()}var ga=function(e){function t(){var e,n,a,s;(0,E.A)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=this,a=t,s=[].concat(o),a=(0,v.A)(a),e=(0,y.A)(n,Ea()?Reflect.construct(a,s||[],(0,v.A)(n).constructor):a.apply(n,s)),(0,r.A)(e,"state",{isExpanded:!1}),(0,r.A)(e,"handleSwipedLeft",function(t){t.event;var n=e.props,r=n.isErrored,a=n.isRemovable,s=n.isSkippable;e.setState({isExpanded:r||a||s})}),(0,r.A)(e,"handleSwipedRight",function(t){t.event,e.setState({isExpanded:!1})}),(0,r.A)(e,"handleRemoveClick",function(){return e.props.onRemoveClick(e.props.queueId)}),(0,r.A)(e,"handleErrorInfoClick",function(){return e.props.onErrorInfoClick(e.props.errorMessage)}),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.props,t=this.state;return a.createElement(Ln,{onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight,preventDefaultTouchmoveEvent:!0,trackMouse:!0,style:{backgroundSize:(e.isCurrent&&e.pctPlayed<2?2:e.pctPlayed)+"% 100%"},className:"dwLX98gAjo7M1v5GxFPs"},a.createElement("div",{className:"CS7nJClO4iSCIF59ROLN"},a.createElement("div",{className:"".concat("YX0TSRl1bGtzmC1vbqKM"," ").concat(e.isPlayed?pa:"")},a.createElement(ra.A,{userId:e.userId,dateUpdated:e.dateUpdated,height:72,className:"KpHZB40TLsLilcPXEMSl"}),a.createElement("div",{className:"NboPopbzKJxFU837nY_v"},e.isUpcoming&&a.createElement("div",{className:"".concat("AZMhnrLLmJ2Zn0Jg0My2"," ").concat(e.isOwner?ma:"")},e.wait))),a.createElement("div",{className:"".concat("mn6l6SzDHS4YFotSl3zf"," ").concat(e.isPlayed?pa:"")},a.createElement("div",{className:"ZTr03m7PCAtZZpn4pcMw"},a.createElement("div",{className:"PBhGwUh4Th_O_inMMeA9 jWArjofD4aPveXPbgr2t"},e.title),a.createElement("div",{className:"mjlcX9qZynnvGfRIJGG3 jWArjofD4aPveXPbgr2t"},a.createElement("div",{className:"plGY8z6TRo8BDaSeEorx jWArjofD4aPveXPbgr2t"},e.artist),"ready"!==e.status&&a.createElement("div",{className:"AaVLfSaVrHeLENJn9BE2"},e.status))),a.createElement("div",{className:"".concat("RliklAG6VcWobvQjbzPY"," ").concat(e.isOwner?ma:"")},e.userDisplayName)),a.createElement(_n,{btnWidth:50,isExpanded:t.isExpanded},"ready"!==e.status&&a.createElement("div",null,a.createElement(j.A,{icon:"HOURGLASS",size:44,className:"".concat("KMngRCwIkXc0csYmDpRa")})),e.isErrored&&a.createElement("div",{onClick:this.handleErrorInfoClick,className:"".concat(fa," ").concat(ha)},a.createElement(j.A,{icon:"INFO_OUTLINE",size:44})),e.isRemovable&&a.createElement("div",{onClick:this.handleRemoveClick,className:"".concat(fa," ").concat(ha),"data-hide":!0},a.createElement(j.A,{icon:"CLEAR",size:44})),e.isSkippable&&a.createElement("div",{onClick:e.onSkipClick,className:"".concat(fa," ").concat(ha),"data-hide":!0},a.createElement(j.A,{icon:"PLAY_NEXT",size:44})))))}}])}(a.Component);(0,r.A)(ga,"propTypes",{artist:b().string.isRequired,dateUpdated:b().number.isRequired,errorMessage:b().string.isRequired,isCurrent:b().bool.isRequired,isErrored:b().bool.isRequired,isOwner:b().bool.isRequired,isPlayed:b().bool.isRequired,isRemovable:b().bool.isRequired,isSkippable:b().bool.isRequired,isUpcoming:b().bool.isRequired,pctPlayed:b().number.isRequired,queueId:b().number.isRequired,youtubeVideoId:b().string.isRequired,title:b().string.isRequired,userId:b().number.isRequired,userDisplayName:b().string.isRequired,wait:b().string,status:b().string,onErrorInfoClick:b().func.isRequired,onRemoveClick:b().func.isRequired,onSkipClick:b().func.isRequired});const ya=ga;var va=n(94689),Ra=n(22618);const Aa="lvob3qs5kGWSM98tIh0L",ba="OIt1GwHgNR1S6SVHKVdd",Sa="WIcwij9EBdEHkZQrSy4_",Oa="wDrTjdBqry66RezvvSg8";function Ca(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ca=function(){return!!e})()}var Na=function(e){function t(){var e,n,s,i;(0,E.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=this,s=t,i=[].concat(c),s=(0,v.A)(s),e=(0,y.A)(n,Ca()?Reflect.construct(s,i||[],(0,v.A)(n).constructor):s.apply(n,i)),(0,r.A)(e,"containerRef",a.createRef()),e}return(0,R.A)(t,e),(0,g.A)(t,[{key:"componentDidMount",value:function(){if(this.containerRef.current){var e=this.props.queue.result.indexOf(this.props.queueId);this.containerRef.current.parentNode.scrollTop=92*e}}},{key:"render",value:function(){var e=this.props;if(0===e.queue.result.length)return null;var t=e.queue.result.map(function(t){var n=e.queue.entities[t];if(n.isOptimistic)return null;if(n.youtubeVideoId){if(!n.youtubeVideoStatus)return null;var r=t===e.queueId&&!e.isAtQueueEnd,s=t!==e.queueId&&!e.playerHistory.includes(t),i=n.userId===e.user.userId;return a.createElement(va.A,{key:t,timeout:800,unmountOnExit:!1,classNames:{appear:"",appearActive:"",enter:Aa,enterActive:ba,exit:Sa,exitActive:Oa}},a.createElement(ya,(0,x.A)({},n,{artist:n.youtubeVideoArtist,errorMessage:r&&e.errorMessage?e.errorMessage:"",isCurrent:r,isErrored:r&&e.isErrored,isOwner:i,isPlayed:!s&&!r,isRemovable:s&&(i||e.user.isAdmin),isSkippable:r&&(i||e.user.isAdmin),isUpcoming:s,pctPlayed:r?e.position/n.youtubeVideoDuration*100:0,title:n.youtubeVideoTitle,wait:fe(e.waits[t],!0),status:n.youtubeVideoStatus,onErrorInfoClick:e.showErrorMessage,onRemoveClick:e.removeItem,onSkipClick:e.requestPlayNext})))}if(!e.songs.entities[n.songId]||!e.artists.entities[e.songs.entities[n.songId].artistId])return null;var o=e.songs.entities[n.songId].duration,c=t===e.queueId&&!e.isAtQueueEnd,l=t!==e.queueId&&!e.playerHistory.includes(t),u=n.userId===e.user.userId;return a.createElement(va.A,{key:t,timeout:800,unmountOnExit:!1,classNames:{appear:"",appearActive:"",enter:Aa,enterActive:ba,exit:Sa,exitActive:Oa}},a.createElement(da,(0,x.A)({},n,{artist:e.artists.entities[e.songs.entities[n.songId].artistId].name,errorMessage:c&&e.errorMessage?e.errorMessage:"",isCurrent:c,isErrored:c&&e.isErrored,isInfoable:e.user.isAdmin,isOwner:u,isPlayed:!l&&!c,isRemovable:l&&(u||e.user.isAdmin),isSkippable:c&&(u||e.user.isAdmin),isStarred:e.starredSongs.includes(n.songId),isUpcoming:l,pctPlayed:c?e.position/o*100:0,title:e.songs.entities[n.songId].title,wait:fe(e.waits[t],!0),onErrorInfoClick:e.showErrorMessage,onInfoClick:e.showSongInfo,onRemoveClick:e.removeItem,onSkipClick:e.requestPlayNext,onStarClick:e.toggleSongStarred})))});return a.createElement("div",{ref:this.containerRef},a.createElement(Ra.A,{component:null},t))}}])}(a.Component);(0,r.A)(Na,"propTypes",{artists:b().object.isRequired,errorMessage:b().string.isRequired,isAtQueueEnd:b().bool.isRequired,isErrored:b().bool.isRequired,playerHistory:b().array.isRequired,position:b().number,queue:b().object.isRequired,queueId:b().number,songs:b().object.isRequired,starredSongs:b().array.isRequired,user:b().object.isRequired,waits:b().object.isRequired,removeItem:b().func.isRequired,requestPlayNext:b().func.isRequired,showErrorMessage:b().func.isRequired,showSongInfo:b().func.isRequired,toggleSongStarred:b().func.isRequired});const Ta=Na;var wa=function(e){return(0,c.wd)(e.userStars).starredSongs},_a=(0,w.Mz)([function(e){return e.status.historyJSON}],function(e){return JSON.parse(e)}),Ia=(0,w.Mz)([function(e){return D(e)},function(e){return e.status.queueId},function(e){return e.status.position},function(e){return e.songs}],function(e,t,n,r){var a=e.result.indexOf(t),s={},i=0,o=0;return e.result.forEach(function(t,c){var l=e.entities[t].songId,u=0;e.entities[t].youtubeVideoId?u=e.entities[t].youtubeVideoDuration:r.entities[l]&&(u=r.entities[l].duration),c===a?o=Math.round(u-n):c>a&&(i+=o,o=u),s[t]=i}),s}),ka={closeSongInfo:_e.ks,queueSong:Fn.$1,removeItem:Fn.Ai,requestPlay:q.cd,requestPlayNext:q.Lx,requestPause:q.wr,showErrorMessage:h.f1,showSongInfo:_e.XH,toggleSongStarred:Yn.D};const Pa=(0,S.Ng)(function(e){return{artists:e.artists,errorMessage:e.status.errorMessage,isAtQueueEnd:e.status.isAtQueueEnd,isErrored:e.status.isErrored,playerHistory:_a(e),position:e.status.position,queue:D(e),queueId:e.status.queueId,songs:e.songs,starredSongs:wa(e),user:e.user,waits:Ia(e)}},ka)(Ta);var La=function(e){a.useLayoutEffect(function(){return e.setHeader(null)});var t=(0,S.d4)(function(e){return e.ui}),n=t.innerWidth,r=t.innerHeight,s=t.headerHeight,i=t.footerHeight,o=(0,S.d4)(function(e){return!!e.user.roomId}),l=(0,S.d4)(function(e){return(0,c.wd)(e.queue)});return a.createElement("div",{className:"SF0X5MbNRNL3euuIjCwB",style:{paddingTop:s,paddingBottom:i,width:n,height:r}},!o&&a.createElement(Dr,null,a.createElement("h1",null,"Get a Room!"),a.createElement("p",null,a.createElement(K.N_,{to:"/account"},"Sign in to a room")," to start queueing songs.")),l.isLoading&&a.createElement(Mr,null),!l.isLoading&&0===l.result.length&&a.createElement(Dr,null,a.createElement("h1",null,"Queue Empty"),a.createElement("p",null,"Tap a song in the ",a.createElement(K.N_,{to:"/library"},"library")," to queue it.")),a.createElement(Pa,null))};La.propTypes={setHeader:b().func.isRequired};const Ua=La;var Da=a.lazy(function(){return Promise.all([n.e(802),n.e(806)]).then(n.bind(n,15806))}),Ha=function(e){return a.createElement(C.dO,null,a.createElement(C.qh,{exact:!0,path:"/account"},a.createElement(sn,{setHeader:e.setHeader})),a.createElement(De,{exact:!0,path:"/library",redirect:"/account"},a.createElement(na,{setHeader:e.setHeader})),a.createElement(De,{exact:!0,path:"/queue",redirect:"/account"},a.createElement(Ua,{setHeader:e.setHeader})),a.createElement(De,{exact:!0,path:"/player",redirect:"/account"},a.createElement(Da,{setHeader:e.setHeader})),a.createElement(C.qh,null,a.createElement(C.rd,{to:"/library"})))};Ha.propTypes={setHeader:b().func.isRequired};const Ma=Ha;var qa=n(66474);const ja=function(e){var t=(0,S.wA)(),n=a.useState(null),r=(0,N.A)(n,2),s=r[0],i=r[1],o=a.useRef(),c=a.useRef();(0,T.A)({onResize:function(e){e.width;var n=e.height;t((0,h.DP)(n))},ref:o}),(0,T.A)({onResize:function(e){e.width;var n=e.height;t((0,h.NJ)(n))},ref:c});var l=(0,S.d4)(function(e){return e.ui}),u=(0,a.useCallback)(function(){return t((0,h.T6)())},[t]);return a.createElement(a.Fragment,null,a.createElement(Se,{customHeader:s,ref:o}),a.createElement(Ma,{setHeader:i}),a.createElement(we,{ref:c}),a.createElement(ke,null),a.createElement(te,{isVisible:l.isErrored,onClose:u,title:"Oops...",buttons:a.createElement("button",{onClick:u},"OK")},a.createElement("p",null,l.errorMessage)),a.createElement(qa.N9,null))};var xa=n(18580);function Va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Va=function(){return!!e})()}var za=function(e){function t(){return(0,E.A)(this,t),e=this,n=t,r=arguments,n=(0,v.A)(n),(0,y.A)(e,Va()?Reflect.construct(n,r||[],(0,v.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,R.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){return a.createElement(S.Kq,{store:this.props.store},a.createElement(O.Q,{loading:a.createElement(Mr,null),persistor:this.props.persistor},a.createElement(a.Suspense,{fallback:a.createElement(Mr,null)},a.createElement(C.Ix,{history:xa.A},a.createElement(ja,null)))))}}])}(a.Component);(0,r.A)(za,"propTypes",{store:b().object.isRequired,persistor:b().object.isRequired});const Ba=za;var Ga=n(70960),Fa=n(74423);function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}window._socket=(0,Fa.Ay)({autoConnect:!1}),window._socket.on("reconnect_attempt",function(){Qa.dispatch((0,Je.cH)())}),window._socket.on("toast",function(e){var t=e.content;delete e.content,window.location.pathname.replace(/\/$/,"").endsWith("/player")||(0,qa.oR)(t,Wa(Wa({},{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e))});var Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.addEventListener("resize",function(){return l.dispatch((0,h.L5)(window))});var t,n=(0,m.Ay)(1e3,{leading:!0,trailing:!0}),r=(t=window._socket,function(e){return t.on("action",function(t){return e.dispatch(t)}),function(e){return function(n){var r=n.type,a=n.meta,s=a&&!!a.isOptimistic;if(!r||!r.startsWith("server/"))return e(n);s?(d++,e(u(u({},n),{},{meta:u(u({},a),{},{optimistic:{type:c.Q,id:d}})}))):e(n),t.emit("action",n,function(t){"object"===(0,o.A)(t)&&"string"==typeof t.type&&(s&&(t.meta=u(u({},t.meta),{},{optimistic:t.error?{type:c.tH,id:d}:{type:c.cJ,id:d}})),e(t))})}}}),a=[p.A,n,r],s=i.Zz,l=(0,i.y$)((0,f.Ay)(),e,s.apply(void 0,[i.Tw.apply(void 0,a)].concat([])));return l.asyncReducers={},l}(window.__INITIAL_STATE__);window._persistor=(0,Ga.GM)(Qa,null,function(){null!==Qa.getState().user.userId&&(Qa.dispatch((0,Je.cH)()),window._socket.open())});var Ka=document.getElementById("root");s.render(a.createElement(Ba,{store:Qa,persistor:window._persistor}),Ka)},54674:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>u,Ay:()=>g,I8:()=>l,PA:()=>m,dJ:()=>d,fm:()=>f,gL:()=>p});var r=n(64467),a=n(62244),s=n(18685);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=new(n(74076).A)("prefs");function l(e,t){return{type:a.PREFS_SET,payload:{key:e,data:t}}}function u(e){return{type:a.PREFS_SET_PATH_PRIORITY,payload:e}}function d(){return function(e,t){return e({type:a.PREFS_REQUEST}),c("GET","").then(function(n){e(p(n)),n.isFirstRun&&null!==t().user.userId&&e((0,s.ri)())}).catch(function(t){e({type:a.PREFS_REQUEST+a._ERROR,error:t.message})})}}function p(e){return{type:a.PREFS_RECEIVE,payload:e}}function m(){return function(e,t){return e({type:a.PREFS_REQ_SCANNER_START}),c("GET","/scan").catch(function(t){e({type:a.PREFS_REQ_SCANNER_START+"_ERROR",error:t.message})})}}function f(){return function(e,t){return e({type:a.PREFS_REQ_SCANNER_STOP}),c("GET","/scan/stop").catch(function(t){e({type:a.PREFS_REQ_SCANNER_STOP+"_ERROR",error:t.message})})}}var h=(0,r.A)((0,r.A)((0,r.A)({},a.PREFS_RECEIVE,function(e,t){var n=t.payload;return o(o({},e),n)}),a.PREFS_PUSH,function(e,t){var n=t.payload;return o(o({},e),n)}),a.SCANNER_WORKER_STATUS,function(e,t){var n=t.payload;return o(o({},e),{},{isScanning:n.isScanning,scannerPct:n.pct,scannerText:n.text})}),E={isScanning:!1,isReplayGainEnabled:!1,isUsernameRequired:!0,isPasswordRequired:!0,paths:{result:[],entities:{}},scannerPct:0,scannerText:"",isYouTubeEnabled:!1,isKaraokeGeneratorEnabled:!1,isConcurrentAlignmentEnabled:!1,spleeterPath:"spleeter",autoLyrixHost:"http://localhost:3000",ffmpegPath:"ffmpeg",youtubeDlExecOptions:[],upcomingLyricsColor:"#fff",playedLyricsColor:"#d9a000",tmpOutputPath:"tmp",maxYouTubeProcesses:3};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=h[t.type];return n?n(e,t):e}},62244:e=>{e.exports={SOCKET_REQUEST_CONNECT:"user/SOCKET_REQUEST_CONNECT",SOCKET_AUTH_ERROR:"user/SOCKET_AUTH_ERROR",LIBRARY_FILTER_STRING:"library/FILTER_KEYWORD",LIBRARY_FILTER_STRING_RESET:"library/FILTER_KEYWORD_CLEAR",LIBRARY_FILTER_TOGGLE_STARRED:"library/TOGGLE_FILTER_STARRED",TOGGLE_ARTIST_EXPANDED:"library/TOGGLE_ARTIST_EXPANDED",TOGGLE_ARTIST_RESULT_EXPANDED:"library/TOGGLE_ARTIST_RESULT_EXPANDED",SCROLL_ARTISTS:"library/SCROLL_ARTISTS",SONG_STARRED:"library/SONG_STARRED",SONG_UNSTARRED:"library/SONG_UNSTARRED",STAR_COUNTS_PUSH:"library/STAR_COUNTS_PUSH",LIBRARY_PUSH:"library/PUSH",LIBRARY_PUSH_SONG:"library/PUSH_SONG",QUEUE_PUSH:"queue/PUSH",QUEUE_ADD:"server/QUEUE_ADD",QUEUE_REMOVE:"server/QUEUE_REMOVE",PLAYER_UPDATE:"player/UPDATE",PLAYER_CMD_OPTIONS:"player/CMD_OPTIONS",PLAYER_CMD_NEXT:"player/CMD_NEXT",PLAYER_CMD_PAUSE:"player/CMD_PAUSE",PLAYER_CMD_PLAY:"player/CMD_PLAY",PLAYER_CMD_VOLUME:"player/CMD_VOLUME",PLAYER_CMD_RESTART:"player/CMD_RESTART",PLAYER_REQ_OPTIONS:"server/PLAYER_REQ_OPTIONS",PLAYER_REQ_PLAY:"server/PLAYER_REQ_PLAY",PLAYER_REQ_PAUSE:"server/PLAYER_REQ_PAUSE",PLAYER_REQ_NEXT:"server/PLAYER_REQ_NEXT",PLAYER_REQ_VOLUME:"server/PLAYER_REQ_VOLUME",PLAYER_REQ_RESTART:"server/PLAYER_REQ_RESTART",PLAYER_EMIT_STATUS:"server/PLAYER_EMIT_STATUS",PLAYER_EMIT_LEAVE:"server/PLAYER_EMIT_LEAVE",PLAYER_STATUS:"status/PLAYER_STATUS",PLAYER_ERROR:"status/PLAYER_ERROR",PLAYER_LEAVE:"status/PLAYER_LEAVE",PLAYER_LOAD:"status/PLAYER_LOAD",PLAYER_PLAY:"status/PLAYER_PLAY",PLAYER_VISUALIZER_ERROR:"status/PLAYER_VISUALIZER_ERROR",LOGIN:"user/LOGIN",LOGOUT:"user/LOGOUT",CREATE_ACCOUNT:"user/CREATE_ACCOUNT",UPDATE_ACCOUNT:"user/UPDATE_ACCOUNT",REQUEST_ACCOUNT:"user/REQUEST_ACCOUNT",REQUEST_ROOMS:"rooms/REQUEST_ROOMS",ROOM_UPDATE:"rooms/UPDATE",ROOM_CREATE:"rooms/CREATE",ROOM_REMOVE:"rooms/REMOVE",ROOM_EDITOR_OPEN:"rooms/EDITOR_OPEN",ROOM_EDITOR_CLOSE:"rooms/EDITOR_CLOSE",ROOM_FILTER_STATUS:"rooms/TOGGLE_SHOW_ALL",STAR_SONG:"server/STAR_SONG",UNSTAR_SONG:"server/UNSTAR_SONG",STARS_PUSH:"user/STARS_PUSH",PREFS_RECEIVE:"prefs/RECEIVE",PREFS_REQUEST:"prefs/REQUEST",PREFS_SET:"server/PREFS_SET",PREFS_SET_PATH_PRIORITY:"server/PREFS_SET_PATH_PRIORITY",PREFS_PUSH:"prefs/PREFS_PUSH",PREFS_REQ_SCANNER_START:"prefs/REQ_SCANNER_START",PREFS_REQ_SCANNER_STOP:"prefs/REQ_SCANNER_STOP",USERS_CREATE:"users/CREATE",USERS_EDITOR_OPEN:"users/EDITOR_OPEN",USERS_EDITOR_CLOSE:"users/EDITOR_CLOSE",USERS_FILTER_ONLINE:"users/FILTER_ONLINE",USERS_FILTER_ROOM_ID:"users/FILTER_ROOM_ID",USERS_RECEIVE:"users/RECEIVE",USERS_REMOVE:"users/REMOVE",USERS_REQUEST:"users/REQUEST",USERS_UPDATE:"users/UPDATE",HEADER_HEIGHT_CHANGE:"ui/HEADER_HEIGHT_CHANGE",FOOTER_HEIGHT_CHANGE:"ui/FOOTER_HEIGHT_CHANGE",SHOW_ERROR_MESSAGE:"ui/SHOW_ERROR_MESSAGE",CLEAR_ERROR_MESSAGE:"ui/CLEAR_ERROR_MESSAGE",UI_WINDOW_RESIZE:"ui/WINDOW_RESIZE",SONG_INFO_REQUEST:"songInfo/SONG_INFO_REQUEST",SONG_INFO_SET_PREFERRED:"songInfo/SET_PREFERRED",SONG_INFO_CLOSE:"songInfo/SONG_INFO_CLOSE",SCANNER_CMD_START:"scannerWorker/CMD_START",SCANNER_CMD_STOP:"scannerWorker/CMD_STOP",SCANNER_WORKER_STATUS:"scannerWorker/STATUS",YOUTUBE_CMD_START:"youtubeWorker/CMD_START",YOUTUBE_CMD_STOP:"youtubeWorker/CMD_STOP",YOUTUBE_CMD_UPDATE:"youtubeWorker/CMD_UPDATE",YOUTUBE_WORKER_STATUS:"youtubeWorker/STATUS",YOUTUBE_VIDEO_UPDATE:"youtubeWorker/VIDEO_UPDATE",SERVER_WORKER_STATUS:"serverWorker/STATUS",SERVER_WORKER_ERROR:"serverWorker/ERROR",LIBRARY_MATCH_SONG:"scannerWorker/LIBRARY_MATCH_SONG",MEDIA_ADD:"scannerWorker/MEDIA_ADD",MEDIA_CLEANUP:"scannerWorker/MEDIA_CLEANUP",MEDIA_REMOVE:"scannerWorker/MEDIA_REMOVE",MEDIA_UPDATE:"scannerWorker/MEDIA_UPDATE",_SUCCESS:"_SUCCESS",_ERROR:"_ERROR"}},62528:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>E,DP:()=>u,Dx:()=>m,L5:()=>p,NJ:()=>d,T6:()=>c,f1:()=>l});var r,a=n(64467),s=n(62244);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(){return{type:s.CLEAR_ERROR_MESSAGE}}function l(e){return{type:s.SHOW_ERROR_MESSAGE,error:e}}function u(e){return function(t,n){n().ui.headerHeight!==e&&t({type:s.HEADER_HEIGHT_CHANGE,payload:e})}}function d(e){return function(t,n){n().ui.footerHeight!==e&&t({type:s.FOOTER_HEIGHT_CHANGE,payload:e})}}function p(e){return{type:s.UI_WINDOW_RESIZE,payload:e,meta:{throttle:{wait:200,leading:!1}}}}function m(e){e?(clearTimeout(r),r=null,document.body.classList.add("scroll-lock")):r||(r=setTimeout(function(){r=null,document.body.classList.remove("scroll-lock")},200))}var f=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.HEADER_HEIGHT_CHANGE,function(e,t){var n=t.payload;return o(o({},e),{},{headerHeight:n})}),s.FOOTER_HEIGHT_CHANGE,function(e,t){var n=t.payload;return o(o({},e),{},{footerHeight:n})}),s.SHOW_ERROR_MESSAGE,function(e,t){return o(o({},e),{},{isErrored:!0,errorMessage:t.error})}),s.CLEAR_ERROR_MESSAGE,function(e,t){return t.payload,o(o({},e),{},{isErrored:!1})}),s.UI_WINDOW_RESIZE,function(e,t){var n=t.payload;return o(o({},e),{},{innerWidth:n.innerWidth,innerHeight:n.innerHeight,contentWidth:Math.min(n.innerWidth,768)})}),h={isErrored:!1,errorMessage:null,footerHeight:0,headerHeight:0,innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentWidth:Math.min(window.innerWidth,768)};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=f[t.type],r=n?n(e,t):e;return t.error?o(o({},r),{},{isErrored:!0,errorMessage:t.error}):r}},65279:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,Ko:()=>d,XH:()=>l,ks:()=>u});var r=n(64467),a=n(74076),s=n(62244);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=new a.A;function l(e){return function(t,n){return t(function(e){return{type:s.SONG_INFO_REQUEST,payload:{songId:e}}}(e)),c("GET","song/".concat(e)).then(function(e){t(function(e){return{type:s.SONG_INFO_REQUEST+s._SUCCESS,payload:e}}(e))}).catch(function(e){t(function(e){return{type:s.SONG_INFO_REQUEST+s._ERROR,error:e.message}}(e))})}}function u(){return{type:s.SONG_INFO_CLOSE}}function d(e,t,n){return function(r,a){return r({type:s.SONG_INFO_SET_PREFERRED,payload:{songId:e,mediaId:t,isPreferred:n}}),c(n?"PUT":"DELETE","media/".concat(t,"/prefer")).then(function(a){r({type:s.SONG_INFO_SET_PREFERRED+s._SUCCESS,payload:{songId:e,mediaId:t,isPreferred:n}}),r(l(e))}).catch(function(a){r({type:s.SONG_INFO_SET_PREFERRED+s._ERROR,payload:{songId:e,mediaId:t,isPreferred:n},error:a.message})})}}var p=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},s.SONG_INFO_REQUEST,function(e,t){var n=t.payload;return o(o({},m),{},{isLoading:!0,isVisible:!0,songId:n.songId})}),s.SONG_INFO_REQUEST+s._SUCCESS,function(e,t){var n=t.payload;return o(o({},e),{},{isLoading:!1,media:n})}),s.SONG_INFO_REQUEST+s._ERROR,function(e,t){return t.payload,o(o({},e),{},{isLoading:!1,isVisible:!1})}),s.SONG_INFO_CLOSE,function(e,t){return t.payload,o(o({},e),{},{isVisible:!1})}),m={isLoading:!1,isVisible:!1,songId:null,media:{result:[],entities:{}}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=p[t.type];return n?n(e,t):e}},74076:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(82284),a=n(92901),s=n(23029),i=n(64467);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=(0,a.A)(function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.A)(this,e),(0,i.A)(this,"callApi",function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=c(c(c({},t.options),a),{},{method:e});return"object"!==(0,r.A)(s.body)||s.body instanceof FormData||(s.headers=new Headers({"Content-Type":"application/json"}),s.body=JSON.stringify(s.body)),fetch("".concat(document.baseURI,"api/").concat(t.prefix).concat(n),s).then(function(e){if(e.ok){var t=e.headers.get("Content-Type");return t&&t.includes("application/json")?e.json():e}return e.text().then(function(e){throw new Error(e)})})}),this.prefix=n,this.options={credentials:"same-origin"},this.callApi})},76344:(e,t,n)=>{"use strict";n.d(t,{$R:()=>m,Ay:()=>y,Mv:()=>h,RM:()=>l,SV:()=>p,ab:()=>u,v4:()=>f,xX:()=>d});var r=n(64467),a=n(62244);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=new(n(74076).A)("rooms");function c(e){return{type:a.REQUEST_ROOMS+a._SUCCESS,payload:e}}function l(){return function(e){return e({type:a.REQUEST_ROOMS,payload:null}),o("GET","").then(function(t){e(c(t))}).catch(function(t){var n;e((n=t.message,{type:a.REQUEST_ROOMS+a._ERROR,error:n}))})}}function u(e){return function(t,n){return t({type:a.ROOM_CREATE}),o("POST","",{body:e}).then(function(e){t(c(e)),t(m())}).catch(function(e){t({type:a.ROOM_CREATE+a._ERROR,error:e.message})})}}function d(e,t){return function(n,r){return n({type:a.ROOM_UPDATE,payload:{roomId:e}}),o("PUT","/".concat(e),{body:t}).then(function(e){n(c(e)),n(m())}).catch(function(e){n({type:a.ROOM_UPDATE+a._ERROR,error:e.message})})}}function p(e){return function(t,n){return t({type:a.ROOM_REMOVE,payload:e}),o("DELETE","/".concat(e)).then(function(e){t(c(e)),t(m())}).catch(function(e){t({type:a.ROOM_REMOVE+a._ERROR,error:e.message})})}}function m(){return{type:a.ROOM_EDITOR_CLOSE}}function f(){return{type:a.ROOM_EDITOR_OPEN}}function h(e){return{type:a.ROOM_FILTER_STATUS,payload:e}}var E=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},a.LOGOUT+a._SUCCESS,function(e,t){return t.payload,i({},g)}),a.REQUEST_ROOMS+a._SUCCESS,function(e,t){var n=t.payload;return i(i({},e),n)}),a.ROOM_EDITOR_OPEN,function(e,t){return t.payload,i(i({},e),{},{isEditorOpen:!0})}),a.ROOM_EDITOR_CLOSE,function(e,t){return t.payload,i(i({},e),{},{isEditorOpen:!1})}),a.ROOM_FILTER_STATUS,function(e,t){var n=t.payload;return i(i({},e),{},{filterStatus:n})}),g={result:[],entities:{},filterStatus:"open",isEditorOpen:!1};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=E[t.type];return n?n(e,t):e}},85052:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>h,Lx:()=>u,MP:()=>p,ag:()=>o,cV:()=>d,cd:()=>c,wr:()=>l});var r=n(64467),a=n(62244);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return{type:a.PLAYER_REQ_OPTIONS,payload:e,meta:{throttle:{wait:200,leading:!0}}}}function c(){return{type:a.PLAYER_REQ_PLAY}}function l(){return{type:a.PLAYER_REQ_PAUSE}}function u(){return{type:a.PLAYER_REQ_NEXT}}function d(){return{type:a.PLAYER_REQ_RESTART}}function p(e){return{type:a.PLAYER_REQ_VOLUME,payload:e,meta:{throttle:{wait:200,leading:!1}}}}var m=(0,r.A)((0,r.A)({},a.PLAYER_LEAVE,function(e,t){return t.payload,i(i({},e),{},{isPlayerPresent:!1})}),a.PLAYER_STATUS,function(e,t){var n=t.payload;return i(i(i({},e),n),{},{isPlayerPresent:!0})}),f={cdgAlpha:0,cdgSize:.7,errorMessage:"",historyJSON:"[]",isAtQueueEnd:!1,isErrored:!1,isPlayerPresent:!1,isPlaying:!1,isWebGLSupported:!1,mediaType:null,mp4Alpha:1,position:0,queueId:-1,visualizer:{},volume:1};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=m[t.type];return n?n(e,t):e}}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,s),n.exports}s.m=r,e=[],s.O=(t,n,r,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],o=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(s.O).every(e=>s.O[e](n[c]))?n.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,n)=>(s.f[n](e,t),t),[])),s.u=e=>e+"."+{90:"0bab2e8bdab21f9b026e",802:"9e64bccbdf98a2886630",806:"1ed3ec26a80821b37f5c",950:"9ca11eb25dca4bc81bba"}[e]+".js",s.miniCssF=e=>e+"."+{806:"5dd4e6913dc26f82e462",950:"5b512c80b9491fce992e"}[e]+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="karaoke-forever:",s.l=(e,r,a,i)=>{if(t[e])t[e].push(r);else{var o,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+a){o=d;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",n+a),o.src=e),t[e]=[r];var p=(n,r)=>{o.onerror=o.onload=null,clearTimeout(m);var a=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),n)return n(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),c&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{if("undefined"!=typeof document){var e={792:0};s.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{806:1,950:1}[t]&&n.push(e[t]=(e=>new Promise((t,n)=>{var r=s.miniCssF(e),a=s.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var i;if((a=(i=s[r]).getAttribute("data-href"))===e||a===t)return i}})(r,a))return t();((e,t,n,r,a)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",s.nc&&(i.nonce=s.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var s=n&&n.type,o=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=o,i.parentNode&&i.parentNode.removeChild(i),a(c)}},i.href=t,document.head.appendChild(i)})(e,a,0,t,n)}))(t).then(()=>{e[t]=0},n=>{throw delete e[t],n}))}}})(),(()=>{var e={792:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((n,a)=>r=e[t]=[n,a]);n.push(r[2]=a);var i=s.p+s.u(t),o=new Error;s.l(i,n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}},"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,o,c]=n,l=0;if(i.some(t=>0!==e[t])){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(c)var u=c(s)}for(t&&t(n);l<i.length;l++)a=i[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},n=self.webpackChunkkaraoke_forever=self.webpackChunkkaraoke_forever||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=s.O(void 0,[908],()=>s(51972));i=s.O(i)})();